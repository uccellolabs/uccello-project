(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{4:function(e,t,n){e.exports=n("JO1w")},"6GTy":function(e,t){!function(e,t,n,i){var a="ontouchstart"in n,r=function(){var e=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",i.appendChild(e);var a=t.getComputedStyle&&"auto"===t.getComputedStyle(e,"").pointerEvents;return i.removeChild(e),!!a}(),s={contentCallback:function(e){return e.content?e.content:e.id},listNodeName:"ol",itemNodeName:"li",handleNodeName:"div",contentNodeName:"span",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",contentClass:"dd-content",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",noChildrenClass:"dd-nochildren",emptyClass:"dd-empty",expandBtnHTML:'<button class="dd-expand" data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button class="dd-collapse" data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20,fixedDepth:!1,fixed:!1,includeContent:!1,scroll:!1,scrollSensitivity:1,scrollSpeed:5,scrollTriggers:{top:40,left:40,right:-40,bottom:-40},effect:{animation:"none",time:"slow"},callback:function(e,t,n){},onDragStart:function(e,t,n){},beforeDragStop:function(e,t,n){},listRenderer:function(e,t){var n="<"+t.listNodeName+' class="'+t.listClass+'">';return n+=e,n+="</"+t.listNodeName+">"},itemRenderer:function(t,n,i,a,r){var s=e.map(t,(function(e,t){return" "+t+'="'+e+'"'})).join(" "),o="<"+a.itemNodeName+s+">";return o+="<"+a.handleNodeName+' class="'+a.handleClass+'">',o+="<"+a.contentNodeName+' class="'+a.contentClass+'">',o+=n,o+="</"+a.contentNodeName+">",o+="</"+a.handleNodeName+">",o+=i,o+="</"+a.itemNodeName+">"}};function o(t,a){this.w=e(n),this.el=e(t),(a=a||s).rootClass!==i&&"dd"!==a.rootClass&&(a.listClass=a.listClass?a.listClass:a.rootClass+"-list",a.itemClass=a.itemClass?a.itemClass:a.rootClass+"-item",a.dragClass=a.dragClass?a.dragClass:a.rootClass+"-dragel",a.handleClass=a.handleClass?a.handleClass:a.rootClass+"-handle",a.collapsedClass=a.collapsedClass?a.collapsedClass:a.rootClass+"-collapsed",a.placeClass=a.placeClass?a.placeClass:a.rootClass+"-placeholder",a.noDragClass=a.noDragClass?a.noDragClass:a.rootClass+"-nodrag",a.noChildrenClass=a.noChildrenClass?a.noChildrenClass:a.rootClass+"-nochildren",a.emptyClass=a.emptyClass?a.emptyClass:a.rootClass+"-empty"),this.options=e.extend({},s,a),this.options.json!==i&&this._build(),this.init()}o.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=e('<div class="'+n.options.placeClass+'"/>');var i=this.el.find(n.options.itemNodeName);e.each(i,(function(t,i){var a=e(i),r=a.parent();n.setParent(a),r.hasClass(n.options.collapsedClass)&&n.collapseItem(r.parent())})),i.length||this.appendEmptyElement(this.el),n.el.on("click","button",(function(t){if(!n.dragEl){var i=e(t.currentTarget),a=i.data("action"),r=i.parents(n.options.itemNodeName).eq(0);"collapse"===a&&n.collapseItem(r),"expand"===a&&n.expandItem(r)}}));var r=function(t){var i=e(t.target);if(!i.hasClass(n.options.handleClass)){if(i.closest("."+n.options.noDragClass).length)return;i=i.closest("."+n.options.handleClass)}i.length&&!n.dragEl&&(n.isTouch=/^touch/.test(t.type),n.isTouch&&1!==t.touches.length||(t.preventDefault(),n.dragStart(t.touches?t.touches[0]:t)))},s=function(e){n.dragEl&&(e.preventDefault(),n.dragMove(e.touches?e.touches[0]:e))},o=function(e){n.dragEl&&(e.preventDefault(),n.dragStop(e.touches?e.changedTouches[0]:e))};a&&(n.el[0].addEventListener("touchstart",r,!1),t.addEventListener("touchmove",s,!1),t.addEventListener("touchend",o,!1),t.addEventListener("touchcancel",o,!1)),n.el.on("mousedown",r),n.w.on("mousemove",s),n.w.on("mouseup",o);n.el.bind("destroy-nestable",(function(){a&&(n.el[0].removeEventListener("touchstart",r,!1),t.removeEventListener("touchmove",s,!1),t.removeEventListener("touchend",o,!1),t.removeEventListener("touchcancel",o,!1)),n.el.off("mousedown",r),n.w.off("mousemove",s),n.w.off("mouseup",o),n.el.off("click"),n.el.unbind("destroy-nestable"),n.el.data("nestable",null)}))},destroy:function(){this.el.trigger("destroy-nestable")},add:function(t){var n="."+this.options.listClass,a=e(this.el).children(n);t.parent_id!==i&&(a=a.find('[data-id="'+t.parent_id+'"]'),delete t.parent_id,0===a.children(n).length&&(a=a.append(this.options.listRenderer("",this.options))),a=a.find(n+":first"),this.setParent(a.parent())),a.append(this._buildItem(t,this.options))},replace:function(e){var t=this._buildItem(e,this.options);this._getItemById(e.id).replaceWith(t)},removeItem:function(t){var n=this.options,i=this.el;(t=t||this).remove();var a="."+n.listClass+" ."+n.listClass+":not(:has(*))";e(i).find(a).remove();e(i).find('[data-action="expand"], [data-action="collapse"]').each((function(){0===e(this).siblings("."+n.listClass).length&&e(this).remove()}))},remove:function(e,t){var n=this.options,i=this,a=this._getItemById(e),r=n.effect.animation||"fade",s=n.effect.time||"slow";"fade"===r?a.fadeOut(s,(function(){i.removeItem(a)})):this.removeItem(a),t&&t()},removeAll:function(t){var n=this,i=this.options,a=n.el.find(i.listNodeName).first(),r=a.children(i.itemNodeName),s=i.effect.animation||"fade",o=i.effect.time||"slow";function l(){r.each((function(){n.removeItem(e(this))})),a.show(),t&&t()}"fade"===s?a.fadeOut(o,l):l()},_getItemById:function(t){return e(this.el).children("."+this.options.listClass).find('[data-id="'+t+'"]')},_build:function(){var t=this.options.json;"string"==typeof t&&(t=JSON.parse(t)),e(this.el).html(this._buildList(t,this.options))},_buildList:function(t,n){if(!t)return"";var i="",a=this;return e.each(t,(function(e,t){i+=a._buildItem(t,n)})),n.listRenderer(i,n)},_buildItem:function(t,n){var i=function(t){delete(t=e.extend({},t)).children,delete t.classes,delete t.content;var n={};return e.each(t,(function(e,t){var i;"object"==typeof t&&(t=JSON.stringify(t)),n["data-"+e]=(i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},t+"".replace(/[&<>"']/g,(function(e){return i[e]})))})),n}(t);i.class=function(t,n){var i=t.classes||{};"string"==typeof i&&(i=[i]);var a=function(e){var t={};for(var n in e)t[e[n]]=e[n];return t}(i);return a[n.itemClass]=n.itemClass,e.map(a,(function(e){return e})).join(" ")}(t,n);var a=n.contentCallback(t),r=this._buildList(t.children,n),s=e(n.itemRenderer(i,a,r,n,t));return this.setParent(s),s[0].outerHTML},serialize:function(){var t=this,n=function(i){var a=[];return i.children(t.options.itemNodeName).each((function(){var i=e(this),r=e.extend({},i.data()),s=i.children(t.options.listNodeName);if(t.options.includeContent){var o=i.find("."+t.options.contentClass).html();o&&(r.content=o)}s.length&&(r.children=n(s)),a.push(r)})),a};return n(t.el.find(t.options.listNodeName).first())},asNestedSet:function(){var t=this.options,n=[],i=1;return this.el.find(t.listNodeName).first().children(t.itemNodeName).each((function(){i=function i(r,s,o){var l,c,d=o+1;e(r).children(t.listNodeName).children(t.itemNodeName).length>0&&(s++,e(r).children(t.listNodeName).children(t.itemNodeName).each((function(){d=i(e(this),s,d)})),s--);l=e(r).attr("data-id");a(l)&&(l=parseInt(l));c=e(r).parent(t.listNodeName).parent(t.itemNodeName).attr("data-id")||"";a(c)&&(l=parseInt(c));l&&n.push({id:l,parent_id:c,depth:s,lft:o,rgt:d});o=d+1;return o}(this,0,i)})),n=n.sort((function(e,t){return e.lft-t.lft}));function a(t){return e.isNumeric(t)&&Math.floor(t)==t}},returnOptions:function(){return this.options},serialise:function(){return this.serialize()},toHierarchy:function(t){var n=e.extend({},this.options,t),i=[];return e(this.element).children(n.items).each((function(){var t=function t(i){var a=(e(i).attr(n.attribute||"id")||"").match(n.expression||/(.+)[-=_](.+)/);if(a){var r={id:a[2]};return e(i).children(n.listType).children(n.items).length>0&&(r.children=[],e(i).children(n.listType).children(n.items).each((function(){var e=t(this);r.children.push(e)}))),r}}(this);i.push(t)})),i},toArray:function(){var t=e.extend({},this.options,this),n=t.startDepthCount||0,i=[],a=2;return this.el.find(this.options.listNodeName).first().children(this.options.itemNodeName).each((function(){a=function a(r,s,o){var l,c,d=o+1;r.children(t.options.listNodeName).children(t.options.itemNodeName).length>0&&(s++,r.children(t.options.listNodeName).children(t.options.itemNodeName).each((function(){d=a(e(this),s,d)})),s--);l=r.data().id;if(s===n+1)c=t.rootID;else{var h=r.parent(t.options.listNodeName).parent(t.options.itemNodeName).data();c=h.id}l&&i.push({id:l,parent_id:c,depth:s,left:o,right:d});o=d+1;return o}(e(this),n+1,a)})),i=i.sort((function(e,t){return e.left-t.left}))},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(e){e.removeClass(this.options.collapsedClass)},collapseItem:function(e){e.children(this.options.listNodeName).length&&e.addClass(this.options.collapsedClass)},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each((function(){t.expandItem(e(this))}))},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each((function(){t.collapseItem(e(this))}))},setParent:function(t){t.is(this.options.itemNodeName)&&t.children(this.options.listNodeName).length&&(t.children("[data-action]").remove(),t.prepend(e(this.options.expandBtnHTML)),t.prepend(e(this.options.collapseBtnHTML)))},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(t){var i=this.mouse,a=e(t.target).closest(this.options.itemNodeName),r={top:t.pageY,left:t.pageX},s=this.options.onDragStart.call(this,this.el,a,r);if(void 0===s||!1!==s){this.placeEl.css("height",a.height()),i.offsetX=t.pageX-a.offset().left,i.offsetY=t.pageY-a.offset().top,i.startX=i.lastX=t.pageX,i.startY=i.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=e(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",a.outerWidth()),this.setIndexOfItem(a),a.after(this.placeEl),a[0].parentNode.removeChild(a[0]),a.appendTo(this.dragEl),e(n.body).append(this.dragEl),this.dragEl.css({left:t.pageX-i.offsetX,top:t.pageY-i.offsetY});var o,l,c=this.dragEl.find(this.options.itemNodeName);for(o=0;o<c.length;o++)(l=e(c[o]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=l)}},createSubLevel:function(t,n){var i=e("<"+this.options.listNodeName+"/>").addClass(this.options.listClass);return n&&i.append(n),t.append(i),this.setParent(t),i},setIndexOfItem:function(t,n){(n=n||[]).unshift(t.index()),e(t[0].parentNode)[0]!==this.dragRootEl[0]?this.setIndexOfItem(e(t[0].parentNode),n):this.dragEl.data("indexOfItem",n)},restoreItemAtIndex:function(t,n){var i=this.el,a=n.length-1;function r(t,i){0===n[a]?e(t).prepend(i.clone(!0)):e(t.children[n[a]-1]).after(i.clone(!0))}for(var s=0;s<n.length;s++){if(a===parseInt(s))return void r(i,t);var o=i[0]?i[0]:i,l=o.children[n[s]];i=l||this.createSubLevel(e(o))}},dragStop:function(e){var t={top:e.pageY,left:e.pageX},n=this.dragEl.data("indexOfItem"),i=this.dragEl.children(this.options.itemNodeName).first();i[0].parentNode.removeChild(i[0]),this.dragEl.remove();var a=this.options.beforeDragStop.call(this,this.el,i,this.placeEl.parent());if(void 0!==a&&!1===a){var r=this.placeEl.parent();return this.placeEl.remove(),r.children().length||this.unsetParent(r.parent()),this.restoreItemAtIndex(i,n),void this.reset()}this.placeEl.replaceWith(i),this.hasNewRoot?(!0===this.options.fixed?this.restoreItemAtIndex(i,n):this.el.trigger("lostItem"),this.dragRootEl.trigger("gainedItem")):this.dragRootEl.trigger("change"),this.options.callback.call(this,this.dragRootEl,i,t),this.reset()},dragMove:function(i){var a,s,o,l=this.options,c=this.mouse;this.dragEl.css({left:i.pageX-c.offsetX,top:i.pageY-c.offsetY}),c.lastX=c.nowX,c.lastY=c.nowY,c.nowX=i.pageX,c.nowY=i.pageY,c.distX=c.nowX-c.lastX,c.distY=c.nowY-c.lastY,c.lastDirX=c.dirX,c.lastDirY=c.dirY,c.dirX=0===c.distX?0:c.distX>0?1:-1,c.dirY=0===c.distY?0:c.distY>0?1:-1;var d=Math.abs(c.distX)>Math.abs(c.distY)?1:0;if(!c.moving)return c.dirAx=d,void(c.moving=!0);if(l.scroll)if(void 0!==t.jQuery.fn.scrollParent){var h=!1,u=this.el.scrollParent()[0];u!==n&&"HTML"!==u.tagName?(l.scrollTriggers.bottom+u.offsetHeight-i.pageY<l.scrollSensitivity?u.scrollTop=h=u.scrollTop+l.scrollSpeed:i.pageY-l.scrollTriggers.top<l.scrollSensitivity&&(u.scrollTop=h=u.scrollTop-l.scrollSpeed),l.scrollTriggers.right+u.offsetWidth-i.pageX<l.scrollSensitivity?u.scrollLeft=h=u.scrollLeft+l.scrollSpeed:i.pageX-l.scrollTriggers.left<l.scrollSensitivity&&(u.scrollLeft=h=u.scrollLeft-l.scrollSpeed)):(i.pageY-e(n).scrollTop()<l.scrollSensitivity?h=e(n).scrollTop(e(n).scrollTop()-l.scrollSpeed):e(t).height()-(i.pageY-e(n).scrollTop())<l.scrollSensitivity&&(h=e(n).scrollTop(e(n).scrollTop()+l.scrollSpeed)),i.pageX-e(n).scrollLeft()<l.scrollSensitivity?h=e(n).scrollLeft(e(n).scrollLeft()-l.scrollSpeed):e(t).width()-(i.pageX-e(n).scrollLeft())<l.scrollSensitivity&&(h=e(n).scrollLeft(e(n).scrollLeft()+l.scrollSpeed)))}else console.warn("To use scrolling you need to have scrollParent() function, check documentation for more information");this.scrollTimer&&clearTimeout(this.scrollTimer),l.scroll&&h&&(this.scrollTimer=setTimeout((function(){e(t).trigger(i)}),10)),c.dirAx!==d?(c.distAxX=0,c.distAxY=0):(c.distAxX+=Math.abs(c.distX),0!==c.dirX&&c.dirX!==c.lastDirX&&(c.distAxX=0),c.distAxY+=Math.abs(c.distY),0!==c.dirY&&c.dirY!==c.lastDirY&&(c.distAxY=0)),c.dirAx=d,c.dirAx&&c.distAxX>=l.threshold&&(c.distAxX=0,o=this.placeEl.prev(l.itemNodeName),c.distX>0&&o.length&&!o.hasClass(l.collapsedClass)&&!o.hasClass(l.noChildrenClass)&&(a=o.find(l.listNodeName).last(),this.placeEl.parents(l.listNodeName).length+this.dragDepth<=l.maxDepth&&(a.length?(a=o.children(l.listNodeName).last()).append(this.placeEl):this.createSubLevel(o,this.placeEl))),c.distX<0&&(this.placeEl.next(l.itemNodeName).length||(s=this.placeEl.parent(),this.placeEl.closest(l.itemNodeName).after(this.placeEl),s.children().length||this.unsetParent(s.parent()))));var f=!1;if(r||(this.dragEl[0].style.visibility="hidden"),this.pointEl=e(n.elementFromPoint(i.pageX-n.body.scrollLeft,i.pageY-(t.pageYOffset||n.documentElement.scrollTop))),r||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(l.handleClass)&&(this.pointEl=this.pointEl.closest(l.itemNodeName)),this.pointEl.hasClass(l.emptyClass))f=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(l.itemClass))return;var p=this.pointEl.closest("."+l.rootClass),g=this.dragRootEl.data("nestable-id")!==p.data("nestable-id");if(!c.dirAx||g||f){if(g&&l.group!==p.data("nestable-group"))return;if(this.options.fixedDepth&&this.dragDepth+1!==this.pointEl.parents(l.listNodeName).length)return;if(this.dragDepth-1+this.pointEl.parents(l.listNodeName).length>l.maxDepth)return;var _=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;s=this.placeEl.parent(),f?((a=e(n.createElement(l.listNodeName)).addClass(l.listClass)).append(this.placeEl),this.pointEl.replaceWith(a)):_?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),s.children().length||this.unsetParent(s.parent()),this.dragRootEl.find(l.itemNodeName).length||this.appendEmptyElement(this.dragRootEl),this.dragRootEl=p,g&&(this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}},appendEmptyElement:function(e){e.append('<div class="'+this.options.emptyClass+'"/>')}},e.fn.nestable=function(n){var i=this,a=this,r=arguments;return"Nestable"in t||(t.Nestable={},Nestable.counter=0),i.each((function(){var t=e(this).data("nestable");if(t){if("string"==typeof n&&"function"==typeof t[n])if(r.length>1){for(var i=[],s=1;s<r.length;s++)i.push(r[s]);a=t[n].apply(t,i)}else a=t[n]()}else Nestable.counter++,e(this).data("nestable",new o(this,n)),e(this).data("nestable-id",Nestable.counter)})),a||i}}(window.jQuery||window.Zepto,window,document)},"6uAc":function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e){e.exports=JSON.parse('{"a":"1.4.7"}')},function(e,t,n){"use strict";n.r(t);var i={};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(i),n.d(i,"on",(function(){return o})),n.d(i,"off",(function(){return l})),n.d(i,"createElementFromString",(function(){return d})),n.d(i,"removeAttribute",(function(){return h})),n.d(i,"createFromTemplate",(function(){return u})),n.d(i,"eventPath",(function(){return f})),n.d(i,"resolveElement",(function(){return p})),n.d(i,"adjustableInputNumbers",(function(){return g}));const o=c.bind(null,"addEventListener"),l=c.bind(null,"removeEventListener");function c(e,t,n,i,a={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);for(const s of t)for(const t of n)s[e](t,i,r({capture:!1},a));return Array.prototype.slice.call(arguments,1)}function d(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function h(e,t){const n=e.getAttribute(t);return e.removeAttribute(t),n}function u(e){return function e(t,n={}){const i=h(t,":obj"),a=h(t,":ref"),r=i?n[i]={}:n;a&&(n[a]=t);for(const n of Array.from(t.children)){const t=h(n,":arr"),i=e(n,t?{}:r);t&&(r[t]||(r[t]=[])).push(Object.keys(i).length?i:n)}return n}(d(e))}function f(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let n=e.target.parentElement;for(t=[e.target,n];n=n.parentElement;)t.push(n);return t.push(document,window),t}function p(e){return e instanceof Element?e:"string"==typeof e?e.split(/>>/g).reduce((e,t,n,i)=>(e=e.querySelector(t),n<i.length-1?e.shadowRoot:e),document):null}function g(e,t=(e=>e)){function n(n){const i=[.001,.01,.1][Number(n.shiftKey||2*n.ctrlKey)]*(n.deltaY<0?1:-1);let a=0,r=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(e,n)=>n<=r&&n+e.length>=r?(r=n,t(Number(e),i,a)):(a++,e)),e.focus(),e.setSelectionRange(r,r),n.preventDefault(),e.dispatchEvent(new Event("input"))}o(e,"focus",()=>o(window,"wheel",n,{passive:!1})),o(e,"blur",()=>l(window,"wheel",n))}var _=n(0);const{min:m,max:v,floor:y,round:b}=Math;function k(e,t,n){t/=100,n/=100;const i=y(e=e/360*6),a=e-i,r=n*(1-t),s=n*(1-a*t),o=n*(1-(1-a)*t),l=i%6;return[255*[n,s,r,r,o,n][l],255*[o,n,n,s,r,r][l],255*[r,r,o,n,n,s][l]]}function w(e,t,n){const i=(2-(t/=100))*(n/=100)/2;return 0!==i&&(t=1===i?0:i<.5?t*n/(2*i):t*n/(2-2*i)),[e,100*t,100*i]}function j(e,t,n){let i,a,r;const s=m(e/=255,t/=255,n/=255),o=v(e,t,n),l=o-s;if(0===l)i=a=0;else{a=l/o;const r=((o-e)/6+l/2)/l,s=((o-t)/6+l/2)/l,c=((o-n)/6+l/2)/l;e===o?i=c-s:t===o?i=1/3+r-c:n===o&&(i=2/3+s-r),i<0?i+=1:i>1&&(i-=1)}return[360*i,100*a,100*(r=o)]}function x(e,t,n,i){return t/=100,n/=100,[...j(255*(1-m(1,(e/=100)*(1-(i/=100))+i)),255*(1-m(1,t*(1-i)+i)),255*(1-m(1,n*(1-i)+i)))]}function C(e,t,n){return t/=100,[e,2*(t*=(n/=100)<.5?n:1-n)/(n+t)*100,100*(n+t)]}function D(e){return j(...e.match(/.{2}/g).map(e=>parseInt(e,16)))}function O(e=0,t=0,n=0,i=1){const a=(e,t)=>(n=-1)=>t(~n?e.map(e=>Number(e.toFixed(n))):e),r={h:e,s:t,v:n,a:i,toHSVA(){const e=[r.h,r.s,r.v,r.a];return e.toString=a(e,e=>"hsva(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(r.a,")")),e},toHSLA(){const e=[...w(r.h,r.s,r.v),r.a];return e.toString=a(e,e=>"hsla(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(r.a,")")),e},toRGBA(){const e=[...k(r.h,r.s,r.v),r.a];return e.toString=a(e,e=>"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(r.a,")")),e},toCMYK(){const e=function(e,t,n){const i=k(e,t,n),a=i[0]/255,r=i[1]/255,s=i[2]/255;let o,l,c,d;return[100*(l=1===(o=m(1-a,1-r,1-s))?0:(1-a-o)/(1-o)),100*(c=1===o?0:(1-r-o)/(1-o)),100*(d=1===o?0:(1-s-o)/(1-o)),100*o]}(r.h,r.s,r.v);return e.toString=a(e,e=>"cmyk(".concat(e[0],"%, ").concat(e[1],"%, ").concat(e[2],"%, ").concat(e[3],"%)")),e},toHEXA(){const e=function(e,t,n){return k(e,t,n).map(e=>b(e).toString(16).padStart(2,"0"))}(r.h,r.s,r.v),t=r.a>=1?"":Number((255*r.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return t&&e.push(t),e.toString=()=>"#".concat(e.join("").toUpperCase()),e},clone:()=>O(r.h,r.s,r.v,r.a)};return r}const N=e=>Math.max(Math.min(e,1),0);function A(e){const t={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},e),_keyboard(e){const{type:i,key:a}=e;if(document.activeElement===n.wrapper){const{lock:n}=t.options,r="ArrowUp"===a,s="ArrowRight"===a,o="ArrowDown"===a,l="ArrowLeft"===a;if("keydown"===i&&(r||s||o||l)){let i=0,a=0;"v"===n?i=r||s?1:-1:"h"===n?i=r||s?-1:1:(a=r?-1:o?1:0,i=l?-1:s?1:0),t.update(N(t.cache.x+.01*i),N(t.cache.y+.01*a)),e.preventDefault()}else a.startsWith("Arrow")&&(t.options.onstop(),e.preventDefault())}},_tapstart(e){o(document,["mouseup","touchend","touchcancel"],t._tapstop),o(document,["mousemove","touchmove"],t._tapmove),e.preventDefault(),t._tapmove(e)},_tapmove(e){const{options:{lock:i},cache:a}=t,{element:r,wrapper:s}=n,o=s.getBoundingClientRect();let l=0,c=0;if(e){const t=e&&e.touches&&e.touches[0];l=e?(t||e).clientX:0,c=e?(t||e).clientY:0,l<o.left?l=o.left:l>o.left+o.width&&(l=o.left+o.width),c<o.top?c=o.top:c>o.top+o.height&&(c=o.top+o.height),l-=o.left,c-=o.top}else a&&(l=a.x*o.width,c=a.y*o.height);"h"!==i&&(r.style.left="calc(".concat(l/o.width*100,"% - ").concat(r.offsetWidth/2,"px)")),"v"!==i&&(r.style.top="calc(".concat(c/o.height*100,"% - ").concat(r.offsetHeight/2,"px)")),t.cache={x:l/o.width,y:c/o.height};const d=N(l/s.offsetWidth),h=N(c/s.offsetHeight);switch(i){case"v":return n.onchange(d);case"h":return n.onchange(h);default:return n.onchange(d,h)}},_tapstop(){t.options.onstop(),l(document,["mouseup","touchend","touchcancel"],t._tapstop),l(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(e=0,n=0){const{left:i,top:a,width:r,height:s}=t.options.wrapper.getBoundingClientRect();"h"===t.options.lock&&(n=e),t._tapmove({clientX:i+r*e,clientY:a+s*n})},destroy(){const{options:e,_tapstart:n}=t;l([e.wrapper,e.element],"mousedown",n),l([e.wrapper,e.element],"touchstart",n,{passive:!1})}},{options:n,_tapstart:i,_keyboard:a}=t;return o([n.wrapper,n.element],"mousedown",i),o([n.wrapper,n.element],"touchstart",i,{passive:!1}),o(document,["keydown","keyup"],a),t}function E(e={}){e=Object.assign({onchange:()=>0,className:"",elements:[]},e);const t=o(e.elements,"click",t=>{e.elements.forEach(n=>n.classList[t.target===n?"add":"remove"](e.className)),e.onchange(t)});return{destroy:()=>l(...t)}}function T({el:e,reference:t,padding:n=8}){const i={start:"sme",middle:"mse",end:"ems"},a={top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},r=((e={})=>(t,n=e[t])=>{if(n)return n;const[i,a="middle"]=t.split("-"),r="top"===i||"bottom"===i;return e[t]={position:i,variant:a,isVertical:r}})();return{update(s){const{position:o,variant:l,isVertical:c}=r(s),d=t.getBoundingClientRect(),h=e.getBoundingClientRect(),u=e=>e?{t:d.top-h.height-n,b:d.bottom+n}:{r:d.right+n,l:d.left-h.width-n},f=e=>e?{s:d.left+d.width-h.width,m:-h.width/2+(d.left+d.width/2),e:d.left}:{s:d.bottom-h.height,m:d.bottom-d.height/2-h.height/2,e:d.bottom-d.height},p={};function g(t,n,i){const a="top"===i,r=a?h.height:h.width,s=window[a?"innerHeight":"innerWidth"];for(const a of t){const t=n[a],o=p[i]="".concat(t,"px");if(t>0&&t+r<s)return e.style[i]=o,!0}return!1}for(const e of[c,!c]){const t=g(a[o],u(e),e?"top":"left"),n=g(i[l],f(e),e?"left":"top");if(t&&n)return}e.style.left=p.left,e.style.top=p.top}}}var S=({components:e,strings:t,useAsButton:n,inline:i,appClass:a,theme:r,lockOpacity:s})=>{const o=e=>e?"":'style="display:none" hidden',l=u('\n      <div :ref="root" class="pickr">\n\n        '.concat(n?"":'<button type="button" :ref="button" class="pcr-button"></button>','\n\n        <div :ref="app" class="pcr-app ').concat(a||"",'" data-theme="').concat(r,'" ').concat(i?'style="position: unset"':"",' aria-label="color picker dialog" role="form">\n          <div class="pcr-selection" ').concat(o(e.palette),'>\n            <div :obj="preview" class="pcr-color-preview" ').concat(o(e.preview),'>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="use previous color"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="color selection area" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ').concat(o(e.hue),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="hue selection slider" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ').concat(o(e.opacity),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="opacity selection slider" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ').concat(e.palette?"":"pcr-last",'" :ref="swatches"></div> \n\n          <div :obj="interaction" class="pcr-interaction" ').concat(o(Object.keys(e.interaction).length),'>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ').concat(o(e.interaction.input),'>\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="').concat(s?"HEX":"HEXA",'" type="button" ').concat(o(e.interaction.hex),'>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="').concat(s?"RGB":"RGBA",'" type="button" ').concat(o(e.interaction.rgba),'>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="').concat(s?"HSL":"HSLA",'" type="button" ').concat(o(e.interaction.hsla),'>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="').concat(s?"HSV":"HSVA",'" type="button" ').concat(o(e.interaction.hsva),'>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ').concat(o(e.interaction.cmyk),'>\n\n            <input :ref="save" class="pcr-save" value="').concat(t.save||"Save",'" type="button" ').concat(o(e.interaction.save),' aria-label="save and exit">\n            <input :ref="cancel" class="pcr-cancel" value="').concat(t.cancel||"Cancel",'" type="button" ').concat(o(e.interaction.cancel),' aria-label="cancel and exit">\n            <input :ref="clear" class="pcr-clear" value="').concat(t.clear||"Clear",'" type="button" ').concat(o(e.interaction.clear),' aria-label="clear and exit">\n          </div>\n        </div>\n      </div>\n    ')),c=l.interaction;return c.options.find(e=>!e.hidden&&!e.classList.add("active")),c.type=()=>c.options.find(e=>e.classList.contains("active")),l};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M{constructor(e){P(this,"_initializingActive",!0),P(this,"_recalc",!0),P(this,"_color",O()),P(this,"_lastColor",O()),P(this,"_swatchColors",[]),P(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=e=Object.assign({appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},strings:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"},e);const{swatches:t,components:n,theme:i,sliders:a,lockOpacity:r,padding:s}=e;["nano","monolith"].includes(i)&&!a&&(e.sliders="h"),n.interaction||(n.interaction={});const{preview:o,opacity:l,hue:c,palette:d}=n;n.opacity=!r&&l,n.palette=d||o||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(e=>this.addSwatch(e));const{button:h,app:u}=this._root;this._nanopop=T({reference:h,padding:s,el:u}),h.setAttribute("role","button"),h.setAttribute("aria-label","toggle color picker dialog");const f=this;requestAnimationFrame((function t(){if(!u.offsetWidth&&u.parentElement!==e.container)return requestAnimationFrame(t);f.setColor(e.default),f._rePositioningPicker(),e.defaultRepresentation&&(f._representation=e.defaultRepresentation,f.setColorRepresentation(f._representation)),e.showAlways&&f.show(),f._initializingActive=!1,f._emit("init")}))}_preBuild(){const e=this.options;for(const t of["el","container"])e[t]=p(e[t]);this._root=S(e),e.useAsButton&&(this._root.button=e.el),e.container.appendChild(this._root.root)}_finalBuild(){const e=this.options,t=this._root;if(e.container.removeChild(t.root),e.inline){const n=e.el.parentElement;e.el.nextSibling?n.insertBefore(t.app,e.el.nextSibling):n.appendChild(t.app)}else e.container.appendChild(t.app);e.useAsButton?e.inline&&e.el.remove():e.el.parentNode.replaceChild(t.root,e.el),e.disabled&&this.disable(),e.comparison||(t.button.style.transition="none",e.useAsButton||(t.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const e=this,t=this.options.components,n=(e.options.sliders||"v").repeat(2),[i,a]=n.match(/^[vh]+$/g)?n:[],r=()=>this._color||(this._color=this._lastColor.clone()),s={palette:A({element:e._root.palette.picker,wrapper:e._root.palette.palette,onstop:()=>e._emit("changestop",e),onchange(n,i){if(!t.palette)return;const a=r(),{_root:s,options:o}=e;e._recalc&&(a.s=100*n,a.v=100-100*i,a.v<0&&(a.v=0),e._updateOutput());const l=a.toRGBA().toString(0);this.element.style.background=l,this.wrapper.style.background="\n                        linear-gradient(to top, rgba(0, 0, 0, ".concat(a.a,"), transparent),\n                        linear-gradient(to left, hsla(").concat(a.h,", 100%, 50%, ").concat(a.a,"), rgba(255, 255, 255, ").concat(a.a,"))\n                    "),o.comparison?o.useAsButton||e._lastColor||(s.preview.lastColor.style.color=l):s.button.style.color=l;const c=a.toHEXA().toString();for(const{el:t,color:n}of e._swatchColors)t.classList[c===n.toHEXA().toString()?"add":"remove"]("pcr-active");s.preview.currentColor.style.color=l,e.options.comparison||s.button.classList.remove("clear")}}),hue:A({lock:"v"===a?"h":"v",element:e._root.hue.picker,wrapper:e._root.hue.slider,onstop:()=>e._emit("changestop",e),onchange(n){if(!t.hue||!t.palette)return;const i=r();e._recalc&&(i.h=360*n),this.element.style.backgroundColor="hsl(".concat(i.h,", 100%, 50%)"),s.palette.trigger()}}),opacity:A({lock:"v"===i?"h":"v",element:e._root.opacity.picker,wrapper:e._root.opacity.slider,onstop:()=>e._emit("changestop",e),onchange(n){if(!t.opacity||!t.palette)return;const i=r();e._recalc&&(i.a=Math.round(100*n)/100),this.element.style.background="rgba(0, 0, 0, ".concat(i.a,")"),s.palette.trigger()}}),selectable:E({elements:e._root.interaction.options,className:"active",onchange(t){e._representation=t.target.getAttribute("data-type").toUpperCase(),e._recalc&&e._updateOutput()}})};this._components=s}_bindEvents(){const{_root:e,options:t}=this,n=[o(e.interaction.clear,"click",()=>this._clearColor()),o([e.interaction.cancel,e.preview.lastColor],"click",()=>{this._emit("cancel",this),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),o(e.interaction.save,"click",()=>{!this.applyColor()&&!t.showAlways&&this.hide()}),o(e.interaction.result,["keyup","input"],e=>{this.setColor(e.target.value,!0)&&!this._initializingActive&&this._emit("change",this._color),e.stopImmediatePropagation()}),o(e.interaction.result,["focus","blur"],e=>{this._recalc="blur"===e.type,this._recalc&&this._updateOutput()}),o([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0)];if(!t.showAlways){const i=t.closeWithKey;n.push(o(e.button,"click",()=>this.isOpen()?this.hide():this.show()),o(document,"keyup",e=>this.isOpen()&&(e.key===i||e.code===i)&&this.hide()),o(document,["touchstart","mousedown"],t=>{this.isOpen()&&!f(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(t.adjustableNumbers){const t={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};g(e.interaction.result,(e,n,i)=>{const a=t[this.getColorRepresentation().toLowerCase()];if(a){const t=a[i],r=e+(t>=100?1e3*n:n);return r<=0?0:Number((r<t?r:t).toPrecision(3))}return e})}if(t.autoReposition&&!t.inline){let e=null;const i=this;n.push(o(window,["scroll","resize"],()=>{i.isOpen()&&(t.closeOnScroll&&i.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame((function t(){i._rePositioningPicker(),null!==e&&requestAnimationFrame(t)}))):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=n}_rePositioningPicker(){const{options:e}=this;if(!e.inline){const{app:t}=this._root;matchMedia("(max-width: 576px)").matches?Object.assign(t.style,{margin:"auto",height:"".concat(t.getBoundingClientRect().height,"px"),top:0,bottom:0,left:0,right:0}):(Object.assign(t.style,{margin:null,right:null,top:null,bottom:null,left:null,height:null}),this._nanopop.update(e.position))}}_updateOutput(){const{_root:e,_color:t,options:n}=this;if(e.interaction.type()){const i="to".concat(e.interaction.type().getAttribute("data-type"));e.interaction.result.value="function"==typeof t[i]?t[i]().toString(n.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",t)}_clearColor(e=!1){const{_root:t,options:n}=this;n.useAsButton||(t.button.style.color="rgba(0, 0, 0, 0.15)"),t.button.classList.add("clear"),n.showAlways||this.hide(),this._lastColor=null,this._initializingActive||e||(this._emit("save",null),this._emit("clear",this))}_parseLocalColor(e){const{values:t,type:n,a:i}=function(e){e=e.match(/^[a-zA-Z]+$/)?function(e){if("black"===e.toLowerCase())return"#000";const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,"#000"===t.fillStyle?null:t.fillStyle}(e):e;const t={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},n=e=>e.map(e=>/^(|\d+)\.\d+|\d+$/.test(e)?Number(e):void 0);let i;e:for(const a in t){if(!(i=t[a].exec(e)))continue;const r=e=>!!i[2]==("number"==typeof e);switch(a){case"cmyk":{const[,e,t,r,s]=n(i);if(e>100||t>100||r>100||s>100)break e;return{values:x(e,t,r,s),type:a}}case"rgba":{const[,,,e,t,s,o]=n(i);if(e>255||t>255||s>255||o<0||o>1||!r(o))break e;return{values:[...j(e,t,s),o],a:o,type:a}}case"hexa":{let[,e]=i;4!==e.length&&3!==e.length||(e=e.split("").map(e=>e+e).join(""));const t=e.substring(0,6);let n=e.substring(6);return n=n?parseInt(n,16)/255:void 0,{values:[...D(t),n],a:n,type:a}}case"hsla":{const[,,,e,t,s,o]=n(i);if(e>360||t>100||s>100||o<0||o>1||!r(o))break e;return{values:[...C(e,t,s),o],a:o,type:a}}case"hsva":{const[,,,e,t,s,o]=n(i);if(e>360||t>100||s>100||o<0||o>1||!r(o))break e;return{values:[e,t,s,o],a:o,type:a}}}}return{values:null,type:null}}(e),{lockOpacity:a}=this.options,r=void 0!==i&&1!==i;return t&&3===t.length&&(t[3]=void 0),{values:!t||a&&r?null:t,type:n}}_emit(e,...t){this._eventListener[e].forEach(e=>e(...t,this))}on(e,t){return"function"==typeof t&&"string"==typeof e&&e in this._eventListener&&this._eventListener[e].push(t),this}off(e,t){const n=this._eventListener[e];if(n){const e=n.indexOf(t);~e&&n.splice(e,1)}return this}addSwatch(e){const{values:t}=this._parseLocalColor(e);if(t){const{_swatchColors:e,_root:n}=this,i=O(...t),a=d('<button type="button" style="color: '.concat(i.toRGBA().toString(0),'" aria-label="color swatch"/>'));return n.swatches.appendChild(a),e.push({el:a,color:i}),this._eventBindings.push(o(a,"click",()=>{this.setHSVA(...i.toHSVA(),!0),this._emit("swatchselect",i),this._emit("change",i)})),!0}return!1}removeSwatch(e){const t=this._swatchColors[e];if(t){const{el:n}=t;return this._root.swatches.removeChild(n),this._swatchColors.splice(e,1),!0}return!1}applyColor(e=!1){const{preview:t,button:n}=this._root,i=this._color.toRGBA().toString(0);return t.lastColor.style.color=i,this.options.useAsButton||(n.style.color=i),n.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||e||this._emit("save",this._color),this}destroy(){this._eventBindings.forEach(e=>l(...e)),Object.keys(this._components).forEach(e=>this._components[e].destroy())}destroyAndRemove(){this.destroy();const{root:e,app:t}=this._root;e.parentElement&&e.parentElement.removeChild(e),t.parentElement.removeChild(t),Object.keys(this).forEach(e=>this[e]=null)}hide(){return this._root.app.classList.remove("visible"),this._emit("hide",this),this}show(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this)),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(e=360,t=0,n=0,i=1,a=!1){const r=this._recalc;if(this._recalc=!1,e<0||e>360||t<0||t>100||n<0||n>100||i<0||i>1)return!1;this._color=O(e,t,n,i);const{hue:s,opacity:o,palette:l}=this._components;return s.update(e/360),o.update(i),l.update(t/100,1-n/100),a||this.applyColor(),r&&this._updateOutput(),this._recalc=r,!0}setColor(e,t=!1){if(null===e)return this._clearColor(t),!0;const{values:n,type:i}=this._parseLocalColor(e);if(n){const e=i.toUpperCase(),{options:a}=this._root.interaction,r=a.find(t=>t.getAttribute("data-type")===e);if(r&&!r.hidden)for(const e of a)e.classList[e===r?"add":"remove"]("active");return!!this.setHSVA(...n,t)&&this.setColorRepresentation(e)}return!1}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}M.utils=i,M.libs={HSVaColor:O,Moveable:A,Nanopop:T,Selectable:E},M.create=e=>new M(e),M.version=_.a,t.default=M}]).default},"76E5":function(e,t,n){var i,a,r;a=[n("EVdn")],void 0===(r="function"==typeof(i=function(e){var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,this.dataOptions(),i),this.init()};t.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(e,t){return e.toFixed(t.decimals)},onUpdate:null,onComplete:null},t.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},t.prototype.dataOptions=function(){var e={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},t=Object.keys(e);for(var n in t){var i=t[n];void 0===e[i]&&delete e[i]}return e},t.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},t.prototype.render=function(){var e=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(e)},t.prototype.restart=function(){this.stop(),this.init(),this.start()},t.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},t.prototype.stop=function(){this.interval&&clearInterval(this.interval)},t.prototype.toggle=function(){this.interval?this.stop():this.start()},e.fn.countTo=function(n){return this.each((function(){var i=e(this),a=i.data("countTo"),r="object"==typeof n?n:{},s="string"==typeof n?n:"start";(!a||"object"==typeof n)&&(a&&a.stop(),i.data("countTo",a=new t(this,r))),a[s].call(a)}))}})?i.apply(t,a):i)||(e.exports=r)},"8oxB":function(e,t){var n,i,a=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,c=[],d=!1,h=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!d){var e=o(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||d||o(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},"8xgT":function(e,t,n){var i,a,r;!function(s){"use strict";a=[n("EVdn"),n("X2Mc")],void 0===(r="function"==typeof(i=function(e,t,n){if(e.jstree.plugins.search)return;e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(t,i){this.bind=function(){i.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy((function(t,n){if(this._data.search.som&&n.res.length){var i,a,r,s,o=this._model.data,l=[];for(i=0,a=n.res.length;i<a;i++)if(o[n.res[i]]&&!o[n.res[i]].state.hidden&&(l.push(n.res[i]),l=l.concat(o[n.res[i]].parents),this._data.search.smc))for(r=0,s=o[n.res[i]].children_d.length;r<s;r++)o[o[n.res[i]].children_d[r]]&&!o[o[n.res[i]].children_d[r]].state.hidden&&l.push(o[n.res[i]].children_d[r]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}}),this)).on("clear_search.jstree",e.proxy((function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}),this))},this.search=function(t,i,a,r,s,o){if(!1===t||""===e.trim(t.toString()))return this.clear_search();r=(r=this.get_node(r))&&r.id?r.id:null,t=t.toString();var l,c,d=this.settings.search,h=!!d.ajax&&d.ajax,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!s&&this.clear_search(),a===n&&(a=d.show_only_matches),o===n&&(o=d.show_only_matches_children),!i&&!1!==h)return e.isFunction(h)?h.call(this,t,e.proxy((function(n){n&&n.d&&(n=n.d),this._load_nodes(e.isArray(n)?e.vakata.array_unique(n):[],(function(){this.search(t,!0,a,r,s,o)}))}),this),r):((h=e.extend({},h)).data||(h.data={}),h.data.str=t,r&&(h.data.inside=r),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy((function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)}),this)).done(e.proxy((function(n){n&&n.d&&(n=n.d),this._load_nodes(e.isArray(n)?e.vakata.array_unique(n):[],(function(){this.search(t,!0,a,r,s,o)}))}),this)),this._data.search.lastRequest);if(s||(this._data.search.str=t,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=a,this._data.search.smc=o),f=new e.vakata.search(t,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(u[r||e.jstree.root].children_d,(function(e,n){var i=u[n];i.text&&!i.state.hidden&&(!d.search_leaves_only||i.state.loaded&&0===i.children.length)&&(d.search_callback&&d.search_callback.call(this,t,i)||!d.search_callback&&f.search(i.text).isMatch)&&(p.push(n),g=g.concat(i.parents))})),p.length){for(l=0,c=(g=e.vakata.array_unique(g)).length;l<c;l++)g[l]!==e.jstree.root&&u[g[l]]&&!0===this.open_node(g[l],null,0)&&this._data.search.opn.push(g[l]);s?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:t,res:this._data.search.res,show_only_matches:a})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,a,r){if((t=i.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var s,o,l=null;for(s=0,o=t.childNodes.length;s<o;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){l=t.childNodes[s];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,i){i=i||{},!1!==(i=e.extend({},e.vakata.search.defaults,i)).fuzzy&&(i.fuzzy=!0),t=i.caseSensitive?t:t.toLowerCase();var a,r,s,o,l=i.location,c=i.distance,d=i.threshold,h=t.length;return h>32&&(i.fuzzy=!1),i.fuzzy&&(a=1<<h-1,r=function(){var e={},n=0;for(n=0;n<h;n++)e[t.charAt(n)]=0;for(n=0;n<h;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),s=function(e,t){var n=e/h,i=Math.abs(l-t);return c?n+i/c:i?1:n}),o=function(e){if(e=i.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var n,o,c,u,f,p,g,_,m,v=e.length,y=d,b=e.indexOf(t,l),k=h+v,w=1,j=[];for(-1!==b&&(y=Math.min(s(0,b),y),-1!==(b=e.lastIndexOf(t,l+h))&&(y=Math.min(s(0,b),y))),b=-1,n=0;n<h;n++){for(c=0,u=k;c<u;)s(n,l+u)<=y?c=u:k=u,u=Math.floor((k-c)/2+c);for(k=u,p=Math.max(1,l-u+1),g=Math.min(l+u,v)+h,(_=new Array(g+2))[g+1]=(1<<n)-1,o=g;o>=p;o--)if(m=r[e.charAt(o-1)],_[o]=0===n?(_[o+1]<<1|1)&m:(_[o+1]<<1|1)&m|(f[o+1]|f[o])<<1|1|f[o+1],_[o]&a&&(w=s(n,o-1))<=y){if(y=w,b=o-1,j.push(b),!(b>l))break;p=Math.max(1,2*l-b)}if(s(n+1,l)>y)break;f=_}return{isMatch:b>=0,score:w}},!0===n?{search:o}:o(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e)})?i.apply(t,a):i)||(e.exports=r)}()},GUC0:function(e,t,n){(function(t,n){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="swal-button";t.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:i,CONFIRM_BUTTON:i+"--confirm",CANCEL_BUTTON:i+"--cancel",DANGER_BUTTON:i+"--danger",BUTTON_LOADING:i+"--loading",BUTTON_LOADER:i+"__loader"},t.default=t.CLASS_NAMES},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNode=function(e){var t="."+e;return document.querySelector(t)},t.stringToNode=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.insertAfter=function(e,t){var n=t.nextSibling;t.parentNode.insertBefore(e,n)},t.removeNode=function(e){e.parentElement.removeChild(e)},t.throwErr=function(e){throw"SweetAlert: "+(e=e.replace(/ +(?= )/g,"")).trim()},t.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},t.ordinalSuffixOf=function(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(25));var a=n(26);t.overlayMarkup=a.default,i(n(27)),i(n(28)),i(n(29));var r=n(0),s=r.default.MODAL_TITLE,o=r.default.MODAL_TEXT,l=r.default.ICON,c=r.default.FOOTER;t.iconMarkup='\n  <div class="'+l+'"></div>',t.titleMarkup='\n  <div class="'+s+'"></div>\n',t.textMarkup='\n  <div class="'+o+'"></div>',t.footerMarkup='\n  <div class="'+c+'"></div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.CONFIRM_KEY="confirm",t.CANCEL_KEY="cancel";var a={visible:!0,text:null,value:null,className:"",closeModal:!0},r=Object.assign({},a,{visible:!1,text:"Cancel",value:null}),s=Object.assign({},a,{text:"OK",value:!0});t.defaultButtonList={cancel:r,confirm:s};var o=function(e){switch(e){case t.CONFIRM_KEY:return s;case t.CANCEL_KEY:return r;default:var n=e.charAt(0).toUpperCase()+e.slice(1);return Object.assign({},a,{text:n,value:e})}},l=function(e,t){var n=o(e);return!0===t?Object.assign({},n,{visible:!0}):"string"==typeof t?Object.assign({},n,{visible:!0,text:t}):i.isPlainObject(t)?Object.assign({visible:!0},n,t):Object.assign({},n,{visible:!1})},c=function(e){var n={};switch(e.length){case 1:n[t.CANCEL_KEY]=Object.assign({},r,{visible:!1});break;case 2:n[t.CANCEL_KEY]=l(t.CANCEL_KEY,e[0]),n[t.CONFIRM_KEY]=l(t.CONFIRM_KEY,e[1]);break;default:i.throwErr("Invalid number of 'buttons' in array ("+e.length+").\n      If you want more than 2 buttons, you need to use an object!")}return n};t.getButtonListOpts=function(e){var n=t.defaultButtonList;return"string"==typeof e?n[t.CONFIRM_KEY]=l(t.CONFIRM_KEY,e):Array.isArray(e)?n=c(e):i.isPlainObject(e)?n=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],s=e[a],o=l(a,s);t[a]=o}return t.cancel||(t.cancel=r),t}(e):!0===e?n=c([!0,!0]):!1===e?n=c([!1,!1]):void 0===e&&(n=t.defaultButtonList),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),r=n(0),s=r.default.MODAL,o=r.default.OVERLAY,l=n(30),c=n(31),d=n(32),h=n(33);t.injectElIntoModal=function(e){var t=i.getNode(s),n=i.stringToNode(e);return t.appendChild(n),n};var u=function(e,t){!function(e){e.className=s,e.textContent=""}(e);var n=t.className;n&&e.classList.add(n)};t.initModalContent=function(e){var t=i.getNode(s);u(t,e),l.default(e.icon),c.initTitle(e.title),c.initText(e.text),h.default(e.content),d.default(e.buttons,e.dangerMode)},t.default=function(){var e=i.getNode(o),t=i.stringToNode(a.modalMarkup);e.appendChild(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a={isOpen:!1,promise:null,actions:{},timer:null},r=Object.assign({},a);t.resetState=function(){r=Object.assign({},a)},t.setActionValue=function(e){if("string"==typeof e)return s(i.CONFIRM_KEY,e);for(var t in e)s(t,e[t])};var s=function(e,t){r.actions[e]||(r.actions[e]={}),Object.assign(r.actions[e],{value:t})};t.setActionOptionsFor=function(e,t){var n=(void 0===t?{}:t).closeModal,i=void 0===n||n;Object.assign(r.actions[e],{closeModal:i})},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(0),s=r.default.OVERLAY,o=r.default.SHOW_MODAL,l=r.default.BUTTON,c=r.default.BUTTON_LOADING,d=n(5);t.openModal=function(){i.getNode(s).classList.add(o),d.default.isOpen=!0},t.onAction=function(e){void 0===e&&(e=a.CANCEL_KEY);var t=d.default.actions[e],n=t.value;if(!1===t.closeModal){var r=l+"--"+e;i.getNode(r).classList.add(c)}else i.getNode(s).classList.remove(o),d.default.isOpen=!1;d.default.promise.resolve(n)},t.getState=function(){var e=Object.assign({},d.default);return delete e.promise,delete e.timer,e},t.stopLoading=function(){for(var e=document.querySelectorAll("."+l),t=0;t<e.length;t++)e[t].classList.remove(c)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){e.exports=t.sweetAlert=n(9)}).call(t,n(7))},function(e,t,n){(function(t){e.exports=t.swal=n(10)}).call(t,n(7))},function(e,t,n){"undefined"!=typeof window&&n(11),n(16);var i=n(23).default;e.exports=i},function(e,t,n){var i=n(12);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insertAt:"top",transform:void 0};n(14)(i,a),i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(13)(void 0)).push([e.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i);return[n].concat(i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}))).concat([a]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(i[r]=!0)}for(a=0;a<e.length;a++){var s=e[a];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=p[i.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](i.parts[r]);for(;r<i.parts.length;r++)a.parts.push(d(i.parts[r],t))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(d(i.parts[r],t));p[i.id]={id:i.id,refs:1,parts:s}}}}function a(e,t){for(var n=[],i={},a=0;a<e.length;a++){var r=e[a],s=t.base?r[0]+t.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(o):n.push(i[s]={id:s,parts:[o]})}return n}function r(e,t){var n=_(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=y[y.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function o(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),r(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),r(e,t),t}function c(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function d(e,t){var n,i,a,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var c=v++;n=m||(m=o(t)),i=h.bind(null,n,c,!1),a=h.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=f.bind(null,n,t),a=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(t),i=u.bind(null,n),a=function(){s(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}function h(e,t,n,i){var a=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=k(t,a);else{var r=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function u(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t,n){var i=n.css,a=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||r)&&(i=b(i)),a&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([i],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(s),o&&URL.revokeObjectURL(o)}var p={},g=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),_=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),m=null,v=0,y=[],b=n(15);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=g()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=a(e,t);return i(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var o=n[s];(l=p[o.id]).refs--,r.push(l)}for(e&&i(a(e,t),t),s=0;s<r.length;s++){var l;if(0===(l=r[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var k=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r)?e:(a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,n){var i=n(17);"undefined"==typeof window||window.Promise||(window.Promise=i),n(21),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var a=0|t,r=Math.max(a>=0?a:i-Math.abs(a),0);r<i;){if(function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(n[r],e))return!0;r++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},function(e,t,n){(function(t){!function(n){function i(){}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void o(t.promise,e)}s(t.promise,i)}else(1===e._state?s:o)(t.promise,e._value)}))):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void d(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){o(e,t)}}function o(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,s(t,e))}),(function(e){n||(n=!0,o(t,e))}))}catch(e){if(n)return;n=!0,o(t,e)}}var h=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new c(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){function i(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(e){i(r,e)}),n)}t[r]=s,0==--a&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var a=t.length,r=0;r<t.length;r++)i(r,t[r])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var i=0,a=e.length;i<a;i++)e[i].then(t,n)}))},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){h(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=a:n.Promise||(n.Promise=a)}(this)}).call(t,n(18).setImmediate)},function(e,i,a){function r(e,t){this._id=e,this._clearFn=t}var s=Function.prototype.apply;i.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},a(19),i.setImmediate=t,i.clearImmediate=n},function(e,t,n){(function(e,t){!function(e,n){"use strict";function i(e){delete o[e]}function a(e){if(l)setTimeout(a,0,e);else{var t=o[e];if(t){l=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var r,s=1,o={},l=!1,c=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){a(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},r=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;r=function(t){var n=c.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(a,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return o[s]=i,r(s),s++},d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(7),n(20))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(){p&&u&&(p=!1,u.length?f=u.concat(f):g=-1,f.length&&s())}function s(){if(!p){var e=a(r);p=!0;for(var t=f.length;t;){for(u=f,f=[];++g<t;)u&&u[g].run();g=-1,t=f.length}u=null,p=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function o(e,t){this.fun=e,this.array=t}function l(){}var c,d,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var u,f=[],p=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new o(e,t)),1!==f.length||p||a(s)},o.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";n(22).polyfill()},function(e,t,n){"use strict";function i(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var r=Object.keys(Object(a)),s=0,o=r.length;s<o;s++){var l=r[s],c=Object.getOwnPropertyDescriptor(a,l);void 0!==c&&c.enumerable&&(n[l]=a[l])}}return n}e.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),a=n(6),r=n(5),s=n(36),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof window){var n=s.getOpts.apply(void 0,e);return new Promise((function(e,t){r.default.promise={resolve:e,reject:t},i.default(n),setTimeout((function(){a.openModal()}))}))}};o.close=a.onAction,o.getState=a.getState,o.setActionValue=r.setActionValue,o.stopLoading=a.stopLoading,o.setDefaults=s.setDefaults,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0).default.MODAL,r=n(4),s=n(34),o=n(35),l=n(1);t.init=function(e){i.getNode(a)||(document.body||l.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),s.default(),r.default()),r.initModalContent(e),o.default(e)},t.default=t.init},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).default.MODAL;t.modalMarkup='\n  <div class="'+i+'" role="dialog" aria-modal="true"></div>',t.default=t.modalMarkup},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i='<div \n    class="'+n(0).default.OVERLAY+'"\n    tabIndex="-1">\n  </div>';t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).default.ICON;t.errorIconMarkup=function(){var e=i+"--error",t=e+"__line";return'\n    <div class="'+e+'__x-mark">\n      <span class="'+t+" "+t+'--left"></span>\n      <span class="'+t+" "+t+'--right"></span>\n    </div>\n  '},t.warningIconMarkup=function(){var e=i+"--warning";return'\n    <span class="'+e+'__body">\n      <span class="'+e+'__dot"></span>\n    </span>\n  '},t.successIconMarkup=function(){var e=i+"--success";return'\n    <span class="'+e+"__line "+e+'__line--long"></span>\n    <span class="'+e+"__line "+e+'__line--tip"></span>\n\n    <div class="'+e+'__ring"></div>\n    <div class="'+e+'__hide-corners"></div>\n  '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).default.CONTENT;t.contentMarkup='\n  <div class="'+i+'">\n\n  </div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=i.default.BUTTON_CONTAINER,r=i.default.BUTTON,s=i.default.BUTTON_LOADER;t.buttonMarkup='\n  <div class="'+a+'">\n\n    <button\n      class="'+r+'"\n    ></button>\n\n    <div class="'+s+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(2),r=n(0),s=r.default.ICON,o=r.default.ICON_CUSTOM,l=["error","warning","success","info"],c={error:a.errorIconMarkup(),warning:a.warningIconMarkup(),success:a.successIconMarkup()};t.default=function(e){if(e){var t=i.injectElIntoModal(a.iconMarkup);l.includes(e)?function(e,t){var n=s+"--"+e;t.classList.add(n);var i=c[e];i&&(t.innerHTML=i)}(e,t):function(e,t){t.classList.add(o);var n=document.createElement("img");n.src=e,t.appendChild(n)}(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(4),r=function(e){navigator.userAgent.includes("AppleWebKit")&&(e.style.display="none",e.offsetHeight,e.style.display="")};t.initTitle=function(e){if(e){var t=a.injectElIntoModal(i.titleMarkup);t.textContent=e,r(t)}},t.initText=function(e){if(e){var t=document.createDocumentFragment();e.split("\n").forEach((function(e,n,i){t.appendChild(document.createTextNode(e)),n<i.length-1&&t.appendChild(document.createElement("br"))}));var n=a.injectElIntoModal(i.textMarkup);n.appendChild(t),r(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n(0),s=r.default.BUTTON,o=r.default.DANGER_BUTTON,l=n(3),c=n(2),d=n(6),h=n(5),u=function(e,t,n){var a=t.text,r=t.value,u=t.className,f=t.closeModal,p=i.stringToNode(c.buttonMarkup),g=p.querySelector("."+s),_=s+"--"+e;g.classList.add(_),u&&(Array.isArray(u)?u:u.split(" ")).filter((function(e){return e.length>0})).forEach((function(e){g.classList.add(e)})),n&&e===l.CONFIRM_KEY&&g.classList.add(o),g.textContent=a;var m={};return m[e]=r,h.setActionValue(m),h.setActionOptionsFor(e,{closeModal:f}),g.addEventListener("click",(function(){return d.onAction(e)})),p};t.default=function(e,t){var n=a.injectElIntoModal(c.footerMarkup);for(var i in e){var r=e[i],s=u(i,r,t);r.visible&&n.appendChild(s)}0===n.children.length&&n.remove()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(4),r=n(2),s=n(5),o=n(6),l=n(0).default.CONTENT,c=function(e){e.addEventListener("input",(function(e){var t=e.target.value;s.setActionValue(t)})),e.addEventListener("keyup",(function(e){if("Enter"===e.key)return o.onAction(i.CONFIRM_KEY)})),setTimeout((function(){e.focus(),s.setActionValue("")}),0)};t.default=function(e){if(e){var t=a.injectElIntoModal(r.contentMarkup),n=e.element,i=e.attributes;"string"==typeof n?function(e,t,n){var i=document.createElement(t),a=l+"__"+t;for(var r in i.classList.add(a),n){var s=n[r];i[r]=s}"input"===t&&c(i),e.appendChild(i)}(t,n,i):t.appendChild(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2);t.default=function(){var e=i.stringToNode(a.overlayMarkup);document.body.appendChild(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=n(6),r=n(1),s=n(3),o=n(0),l=o.default.MODAL,c=o.default.BUTTON,d=o.default.OVERLAY,h=function(e){if(i.default.isOpen)switch(e.key){case"Escape":return a.onAction(s.CANCEL_KEY)}},u=function(e){if(i.default.isOpen)switch(e.key){case"Tab":return function(e){e.preventDefault(),p()}(e)}},f=function(e){if(i.default.isOpen)return"Tab"===e.key&&e.shiftKey?function(e){e.preventDefault(),g()}(e):void 0},p=function(){var e=r.getNode(c);e&&(e.tabIndex=0,e.focus())},g=function(){var e=r.getNode(l).querySelectorAll("."+c),t=e[e.length-1];t&&t.focus()},_=function(){var e=r.getNode(l).querySelectorAll("."+c);e.length&&(function(e){e[e.length-1].addEventListener("keydown",u)}(e),function(e){e[0].addEventListener("keydown",f)}(e))},m=function(e){if(r.getNode(d)===e.target)return a.onAction(s.CANCEL_KEY)};t.default=function(e){e.closeOnEsc?document.addEventListener("keyup",h):document.removeEventListener("keyup",h),e.dangerMode?p():g(),_(),function(e){var t=r.getNode(d);t.removeEventListener("click",m),e&&t.addEventListener("click",m)}(e.closeOnClickOutside),function(e){i.default.timer&&clearTimeout(i.default.timer),e&&(i.default.timer=window.setTimeout((function(){return a.onAction(s.CANCEL_KEY)}),e))}(e.timer)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(37),s=n(38),o={title:null,text:null,icon:null,buttons:a.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},l=Object.assign({},o);t.setDefaults=function(e){l=Object.assign({},o,e)};var c=function(e){var t=e&&e.button,n=e&&e.buttons;return void 0!==t&&void 0!==n&&i.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==t?{confirm:t}:n},d=function(e){return i.ordinalSuffixOf(e+1)},h=function(e,t){i.throwErr(d(t)+" argument ('"+e+"') is invalid")},u=function(e,t){var n=e+1,a=t[n];i.isPlainObject(a)||void 0===a||i.throwErr("Expected "+d(n)+" argument ('"+a+"') to be a plain object")},f=function(e,t,n,a){var r=t instanceof Element;if("string"==typeof t){if(0===n)return{text:t};if(1===n)return{text:t,title:a[0]};if(2===n)return u(n,a),{icon:t};h(t,n)}else{if(r&&0===n)return u(n,a),{content:t};if(i.isPlainObject(t))return function(e,t){var n=e+1,a=t[n];void 0!==a&&i.throwErr("Unexpected "+d(n)+" argument ("+a+")")}(n,a),t;h(t,n)}};t.getOpts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};e.forEach((function(t,i){var a=f(0,t,i,e);Object.assign(n,a)}));var i=c(n);n.buttons=a.getButtonListOpts(i),delete n.button,n.content=r.getContentOpts(n.content);var d=Object.assign({},o,l,n);return Object.keys(d).forEach((function(e){s.DEPRECATED_OPTS[e]&&s.logDeprecation(e)})),d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a={element:"input",attributes:{placeholder:""}};t.getContentOpts=function(e){return i.isPlainObject(e)?Object.assign({},e):e instanceof Element?{element:e}:"input"===e?a:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logDeprecation=function(e){var n=t.DEPRECATED_OPTS[e],i=n.onlyRename,a=n.replacement,r=n.subOption,s=n.link,o='SweetAlert warning: "'+e+'" option has been '+(i?"renamed":"deprecated")+".";a&&(o+=" Please use"+(r?' "'+r+'" in ':" ")+'"'+a+'" instead.');var l="https://sweetalert.js.org";o+=s?" More details: "+l+s:" More details: "+l+"/guides/#upgrading-from-1x",console.warn(o)},t.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])}).call(this,n("URgk").setImmediate,n("URgk").clearImmediate)},JO1w:function(e,t,n){"use strict";n.r(t);n("JgjQ");var i=n("ipVs");function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initLinks(),this.initNotifications()}var t,n,r;return t=e,(n=[{key:"initLinks",value:function(){new i.a}},{key:"initNotifications",value:function(){$(".notification-container").each((function(e,t){var n=$(t).html(),i=$(t).data("classes")?$(t).data("classes"):"";M.toast({html:n,classes:i})}))}}])&&a(t.prototype,n),r&&a(t,r),e}();function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"translations";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t}var t,n,i;return t=e,(n=[{key:"trans",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._replace(this._extract(e),t)}},{key:"trans_choice",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._extract(e,"|").split("|");return r.some((function(e){return t=n._match(e,i)})),t=t||(i>1?r[1]:r[0]),this._replace(t,a)}},{key:"_match",value:function(e,t){var n=e.match(/^[\{\[]([^\[\]\{\}]*)[\}\]](.*)/);if(n){if(n[1].includes(",")){var i=s(n[1].split(","),2),a=i[0],r=i[1];if("*"===r&&t>=a)return n[2];if("*"===a&&t<=r)return n[2];if(t>=a&&t<=r)return n[2]}return n[1]==t?n[2]:null}}},{key:"_replace",value:function(e,t){for(var n in t)e=e.replace(":".concat(n),t[n]).replace(":".concat(n.toUpperCase()),t[n].toUpperCase()).replace(":".concat(n.charAt(0).toUpperCase()).concat(n.slice(1)),t[n].charAt(0).toUpperCase()+t[n].slice(1));return e}},{key:"_extract",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.toString().split("::"),i=n.pop().toString().split(".");return n.length>0&&(n[0]+="::"),n.concat(i).reduce((function(n,i){return n[i]||t||e}),window[this.key])}}])&&o(t.prototype,n),i&&o(t,i),e}(),c=(n("GUC0"),n("eHjp"),n("6GTy"),n("76E5"),n("8xgT"),n("xrZG"),n("6uAc")),d=n.n(c);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initGlobal(),this.initContentHeight(),this.autoOpenMenu(),this.initTranslation(),this.initScrollSpy(),this.initDateRangePicker(),this.initColorPicker(),this.initCountTo(),this.initJsTree(),this.initSearchBar(),this.initMenuSizeSwitcher()}var t,n,i;return t=e,(n=[{key:"initGlobal",value:function(){new r}},{key:"initContentHeight",value:function(){$("main .content:first").css("min-height",$(document).height()-$(".navbar-header").height()-$(".navbar-top").height())}},{key:"initTranslation",value:function(){window.I18n=l,window.uctrans=new l("uctranslations")}},{key:"initScrollSpy",value:function(){var e=this;e.isMobileSize()&&($(".navbar-top nav").removeClass("transparent").removeClass("z-depth-0"),$(".breadcrumb-container").addClass("z-depth-0")),$(window).scroll((function(){!e.isMobileSize()&&$(this).scrollTop()>20?($(".navbar-top nav").removeClass("transparent").removeClass("z-depth-0"),$(".breadcrumb-container").addClass("z-depth-0")):e.isMobileSize()||($(".navbar-top nav").addClass("transparent").addClass("z-depth-0"),$(".breadcrumb-container").removeClass("z-depth-0"))}))}},{key:"initDateRangePicker",value:function(){var e=this,t=uctrans.trans("uccello::default.calendar.ranges.today"),n=uctrans.trans("uccello::default.calendar.ranges.month"),i=uctrans.trans("uccello::default.calendar.ranges.last_month"),a=uctrans.trans("uccello::default.calendar.ranges.next_month"),r=uctrans.trans("uccello::default.calendar.ranges.quarter"),s=uctrans.trans("uccello::default.calendar.ranges.last_quarter"),o=uctrans.trans("uccello::default.calendar.ranges.next_quarter"),l=uctrans.trans("uccello::default.calendar.ranges.year"),c=uctrans.trans("uccello::default.calendar.ranges.last_year"),d=uctrans.trans("uccello::default.calendar.ranges.next_year");$(".date-range-picker").each((function(u,f){var p;$(f).daterangepicker({autoUpdateInput:!1,locale:e.getDaterangePickerLocale($(f).data("format")),showDropdowns:!0,applyButtonClasses:"waves-effect primary",cancelClass:"waves-effect btn-flat",alwaysShowCalendars:!!$(f).data("show-calendars"),ranges:(p={},h(p,t,[moment(),moment()]),h(p,n,[moment().startOf("month"),moment().endOf("month")]),h(p,i,[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),h(p,a,[moment().add(1,"month").startOf("month"),moment().add(1,"month").endOf("month")]),h(p,r,[moment().startOf("quarter"),moment().endOf("quarter")]),h(p,s,[moment().subtract(1,"quarter").startOf("quarter"),moment().subtract(1,"quarter").endOf("quarter")]),h(p,o,[moment().add(1,"quarter").startOf("quarter"),moment().add(1,"quarter").endOf("quarter")]),h(p,l,[moment().startOf("year"),moment().endOf("year")]),h(p,c,[moment().subtract(1,"year").startOf("year"),moment().subtract(1,"year").endOf("year")]),h(p,d,[moment().add(1,"year").startOf("year"),moment().add(1,"year").endOf("year")]),p)},(function(e,t,n){$(this).change()})).on("apply.daterangepicker",(function(e,t){!0===$(this).data("range")&&t.chosenLabel!==uctrans.trans("uccello::default.calendar.custom")?$(this).val(t.chosenLabel):$(this).val(t.startDate.format($(this).data("format"))+", "+t.endDate.format($(this).data("format")))})).on("cancel.daterangepicker",(function(e,t){$(this).val("").change()}))})),$(".datetime-range-picker").each((function(t,n){$(n).daterangepicker({autoUpdateInput:!1,timePicker:!0,timePicker24Hour:!0,locale:e.getDaterangePickerLocale($(n).data("format")),showDropdowns:!0,applyButtonClasses:"waves-effect primary",cancelClass:"waves-effect btn-flat"},(function(e,t,n){$(this).change()})).on("apply.daterangepicker",(function(e,t){$(this).val(t.startDate.format($(this).data("format"))+", "+t.endDate.format($(this).data("format")))})).on("cancel.daterangepicker",(function(e,t){$(this).val("").change()}))})),$(".datepicker").each((function(t,n){$(n).daterangepicker({autoUpdateInput:!1,locale:e.getDaterangePickerLocale($(n).data("format")),singleDatePicker:!0,showDropdowns:!0}).on("apply.daterangepicker",(function(e,t){$(this).val(t.startDate.format($(this).data("format")))})).on("keyup",(function(){var e=$(this).val();if(moment(e).isValid()){var t=moment(e);$(this).data("daterangepicker").setStartDate(t),$(this).data("daterangepicker").setEndDate(t)}}))})),$(".datetimepicker").each((function(t,n){$(n).daterangepicker({autoUpdateInput:!1,autoApply:!0,locale:e.getDaterangePickerLocale($('meta[name="datetime-format-js"]').attr("content")),singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,showDropdowns:!0,applyButtonClasses:"waves-effect primary",cancelClass:"waves-effect btn-flat"}).on("apply.daterangepicker",(function(e,t){$(this).val(t.startDate.format($(this).data("format"))),$(this).parents(".input-field:first").find("label").addClass("active")})).on("cancel.daterangepicker",(function(e,t){$(this).val("").change()})).on("keyup",(function(){var e=$(this).val();if(moment(e).isValid()){var t=moment(e);$(this).data("daterangepicker").setStartDate(t),$(this).data("daterangepicker").setEndDate(t)}}))})),$(".monthpicker").each((function(t,n){$(n).daterangepicker({autoUpdateInput:!1,autoApply:!0,locale:e.getDaterangePickerLocale($(n).data("format")),singleDatePicker:!0,showDropdowns:!0}).on("apply.daterangepicker",(function(e,t){$(this).val(t.startDate.format("YYYY-MM")),$(this).parents(".input-field:first").find("label").addClass("active")}))})),$(".weekpicker").each((function(t,n){$(n).daterangepicker({autoUpdateInput:!1,autoApply:!0,locale:e.getDaterangePickerLocale($(n).data("format")),singleDatePicker:!0,showWeekNumbers:!0,showDropdowns:!0}).on("apply.daterangepicker",(function(e,t){$(this).val(t.startDate.format("YYYY-w")),$(this).parents(".input-field:first").find("label").addClass("active")}))}))}},{key:"getDaterangePickerLocale",value:function(e){return{format:e,separator:uctrans.trans("uccello::default.calendar.separator"),applyLabel:uctrans.trans("uccello::default.calendar.apply"),cancelLabel:uctrans.trans("uccello::default.calendar.cancel"),fromLabel:uctrans.trans("uccello::default.calendar.from"),toLabel:uctrans.trans("uccello::default.calendar.to"),customRangeLabel:uctrans.trans("uccello::default.calendar.custom"),weekLabel:uctrans.trans("uccello::default.calendar.week"),daysOfWeek:[uctrans.trans("uccello::default.calendar.day.su"),uctrans.trans("uccello::default.calendar.day.mo"),uctrans.trans("uccello::default.calendar.day.tu"),uctrans.trans("uccello::default.calendar.day.we"),uctrans.trans("uccello::default.calendar.day.th"),uctrans.trans("uccello::default.calendar.day.fr"),uctrans.trans("uccello::default.calendar.day.sa")],monthNames:[uctrans.trans("uccello::default.calendar.month.january"),uctrans.trans("uccello::default.calendar.month.february"),uctrans.trans("uccello::default.calendar.month.march"),uctrans.trans("uccello::default.calendar.month.april"),uctrans.trans("uccello::default.calendar.month.may"),uctrans.trans("uccello::default.calendar.month.june"),uctrans.trans("uccello::default.calendar.month.july"),uctrans.trans("uccello::default.calendar.month.august"),uctrans.trans("uccello::default.calendar.month.september"),uctrans.trans("uccello::default.calendar.month.october"),uctrans.trans("uccello::default.calendar.month.november"),uctrans.trans("uccello::default.calendar.month.december")],firstDay:1}}},{key:"initColorPicker",value:function(){if(0!==$(".colorpicker").length){var e=d.a.create({el:".colorpicker",theme:"classic",default:"#007AD6",swatches:["rgb(244, 67, 54)","rgb(233, 30, 99)","rgb(156, 39, 176)","rgb(103, 58, 183)","rgb(63, 81, 181)","rgb(33, 150, 243)","rgb(3, 169, 244)","rgb(0, 188, 212)","rgb(0, 150, 136)","rgb(76, 175, 80)","rgb(139, 195, 74)","rgb(205, 220, 57)","rgb(255, 235, 59)","rgb(255, 193, 7)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{input:!0,clear:!0,save:!0}},strings:{save:uctrans.trans("uccello::default.button.select"),clear:uctrans.trans("uccello::default.button.clear"),cancel:uctrans.trans("uccello::default.button.cancel")}});e.on("init",(function(t){var n=$(t._root.root).parents(".input-field:first").find('input[type="text"]');t.setColor(n.val()),n.on("click",(function(t){e.show()})).on("keyup",(function(t){e.setColor(n.val()||null)}))})).on("save",(function(t,n){var i=$(n._root.root).parents(".input-field:first");null===t?(i.find("input").val(""),i.find("label").removeClass("active")):(i.find("input").val(t.toHEXA().toString()),i.find("label").addClass("active")),e.hide()}))}}},{key:"initCountTo",value:function(){$(".count-to").countTo()}},{key:"initJsTree",value:function(){var e=$("#domains-tree");e.jstree({core:{themes:{icons:!1},data:{url:function(e){return"#"===e.id?$("meta[name='domains-tree-default-url']").attr("content"):$("meta[name='domains-tree-children-url']").attr("content")},data:function(e){return{id:e.id}}}},plugins:["search","sort"],search:{show_only_matches:!0}}).on("ready.jstree",(function(){$("meta[name='domains-tree-open-all']").attr("content")&&e.jstree("open_all")})).on("changed.jstree",(function(e,t){"#"!==t.node.a_attr.href&&(document.location.href=t.node.a_attr.href)}));var t=!1;$(".domain-search-bar #domain-name").keyup((function(){t&&clearTimeout(t),t=setTimeout((function(){var t=$("#domain-name").val();e.jstree(!0).search(t)}),250)}))}},{key:"initSearchBar",value:function(){$(".navbar-header .search-btn").on("click",(function(){$(".navbar-header .default-bar").hide(),$(".navbar-header .search-bar").show(),$(".navbar-header .search-bar #search").focus()})),$(".navbar-header .search-bar #search").on("focusout",(function(){$(".navbar-header .default-bar").show(),$(".navbar-header .search-bar").hide(),$(".navbar-header .search-bar #search").val("")}))}},{key:"initMenuSizeSwitcher",value:function(){$("#menu-size-switcher").click((function(e){$("body").toggleClass("sidenav-mini");var t=$("body").hasClass("sidenav-mini");$("i",$(e.currentTarget)).text(t?"menu":"menu_open");var n=$("meta[name='user-settings-url']").attr("content"),i={_token:$("meta[name='csrf-token']").attr("content"),settings:{menu_mini:t}};$.post(n,i)}))}},{key:"autoOpenMenu",value:function(){var e=$(".sidenav ul.collapsible ul li.active").parents("ul.collapsible:first");e.collapsible("open"),e.find("li:first").addClass("active")}},{key:"isMobileSize",value:function(){return $(document).width()<601}}])&&u(t.prototype,n),i&&u(t,i),e}())},JgjQ:function(e,t,n){window._=n("LvDl"),window.moment=n("wd/R");try{window.Popper=n("8L3F").default,window.$=window.jQuery=n("EVdn"),n("TVxV")}catch(e){}n("/jzl").attach(document.body),$("#sidenav-menu").sidenav({edge:"left",onOpenStart:function(){$(document).width()<993&&$("#sidenav-domains").sidenav("close")}}),$("#sidenav-domains").sidenav({edge:"right",onOpenStart:function(){$(document).width()<993&&$("#sidenav-menu").sidenav("close")}}),$(".dropdown-trigger").each((function(e,t){$(t).dropdown({alignment:$(t).data("alignment")?$(t).data("alignment"):"left",constrainWidth:!1!==$(t).data("constrain-width"),container:$(t).data("container")?$($(t).data("container")):null,coverTrigger:!0===$(t).data("cover-trigger"),closeOnClick:!1!==$(t).data("close-on-click"),hover:!0===$(t).data("hover")})})),$(".tabs").tabs({}),$("select").each((function(e,t){$(t).formSelect({dropdownOptions:{alignment:$(t).data("alignment")?$(t).data("alignment"):"left",constrainWidth:!1!==$(t).data("constrain-width"),container:$(t).data("container")?$($(t).data("container")):null,coverTrigger:!0===$(t).data("cover-trigger"),closeOnClick:!1!==$(t).data("close-on-click"),hover:!0===$(t).data("hover")}})})),$("[data-tooltip]").tooltip({transitionMovement:0}),$(".modal").modal(),$(".collapsible").collapsible()},RnhZ:function(e,t,n){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="RnhZ"},URgk:function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(a.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},X2Mc:function(e,t,n){var i,a,r;!function(s){"use strict";a=[n("EVdn")],void 0===(r="function"==typeof(i=function(e,t){if(e.jstree)return;var n=0,i=!1,a=!1,r=!1,s=[],o=e("script:last").attr("src"),l=window.document;e.jstree={version:"3.3.8",defaults:{plugins:[]},plugins:{},path:o&&-1!==o.indexOf("/")?o.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,i){var a=new e.jstree.core(++n),r=i;return i=e.extend(!0,{},e.jstree.defaults,i),r&&r.plugins&&(i.plugins=r.plugins),e.each(i.plugins,(function(e,t){"core"!==e&&(a=a.plugin(t,i[t]))})),e(t).data("jstree",a),a.init(t,i),a},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=e(t)}catch(e){}if(!i||!i.length)try{i=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?n=i:e(".jstree").each((function(){var i=e(this).data("jstree");if(i&&i._model.data[t])return n=i,!1})),n},e.fn.jstree=function(n){var i="string"==typeof n,a=Array.prototype.slice.call(arguments,1),r=null;return!(!0===n&&!this.length)&&(this.each((function(){var s=e.jstree.reference(this),o=i&&s?s[n]:null;if(r=i&&o?o.apply(s,a):null,s||i||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(s&&!i||!0===n)&&(r=s||!1),null!==r&&r!==t)return!1})),null!==r&&r!==t?r:this)},e.expr.pseudos.jstree=e.expr.createPseudo((function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}})),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,(function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}));else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var i=e.jstree.plugins[t];return i?(this._data[t]={},i.prototype=this,new i(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter((function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))})).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=l.createElement("LI");return n.setAttribute("role","treeitem"),(e=l.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=l.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=l.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var n,i,a=this.settings.core.keyboard;for(n in a)if(a.hasOwnProperty(n)&&("-"!==(i=n)&&"+"!==i&&(i=(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),i===t))return a[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",(function(){return this.className.replace(/jstree[^ ]*|$/gi,"")})),this.element=null},bind:function(){var t="",n=null,i=0;this.element.on("dblclick.jstree",(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}})).on("mousedown.jstree",e.proxy((function(e){e.target===this.element[0]&&(e.preventDefault(),i=+new Date)}),this)).on("mousedown.jstree",".jstree-ocl",(function(e){e.preventDefault()})).on("click.jstree",".jstree-ocl",e.proxy((function(e){this.toggle_node(e.target)}),this)).on("dblclick.jstree",".jstree-anchor",e.proxy((function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)}),this)).on("click.jstree",".jstree-anchor",e.proxy((function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)}),this)).on("keydown.jstree",".jstree-anchor",e.proxy((function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}}),this)).on("load_node.jstree",e.proxy((function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy((function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,i=[];for(t=0,n=this._data.core.selected.length;t<n;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,n=(i=e.vakata.array_unique(i)).length;t<n;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}),this),0))}),this)).on("keypress.jstree",e.proxy((function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout((function(){t=""}),500);var a=String.fromCharCode(i.which).toLowerCase(),r=this.element.find(".jstree-anchor").filter(":visible"),s=r.index(l.activeElement)||0,o=!1;if((t+=a).length>1){if(r.slice(s).each(e.proxy((function(n,i){if(0===e(i).text().toLowerCase().indexOf(t))return e(i).focus(),o=!0,!1}),this)),o)return;if(r.slice(0,s).each(e.proxy((function(n,i){if(0===e(i).text().toLowerCase().indexOf(t))return e(i).focus(),o=!0,!1}),this)),o)return}if(new RegExp("^"+a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(r.slice(s+1).each(e.proxy((function(t,n){if(e(n).text().toLowerCase().charAt(0)===a)return e(n).focus(),o=!0,!1}),this)),o)return;if(r.slice(0,s+1).each(e.proxy((function(t,n){if(e(n).text().toLowerCase().charAt(0)===a)return e(n).focus(),o=!0,!1}),this)),o)return}}),this)).on("init.jstree",e.proxy((function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)}),this)).on("loading.jstree",e.proxy((function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}),this)).on("blur.jstree",".jstree-anchor",e.proxy((function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")}),this)).on("focus.jstree",".jstree-anchor",e.proxy((function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave"),e(t.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")}),this)).on("focus.jstree",e.proxy((function(){if(+new Date-i>500&&!this._data.core.focused&&this.settings.core.restore_focus){i=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}}),this)).on("mouseenter.jstree",".jstree-anchor",e.proxy((function(e){this.hover_node(e.currentTarget)}),this)).on("mouseleave.jstree",".jstree-anchor",e.proxy((function(e){this.dehover_node(e.currentTarget)}),this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var i;t&&t.id&&(t=t.id),t instanceof e&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(i=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else if((i=this.element.find(t)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=this.element.find(t)).length||!i.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,i){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var a,r,s=[];for(s.push(i?t.id:t.text),a=0,r=t.parents.length;a<r;a++)s.push(i?t.parents[a]:this.get_text(t.parents[a]));return s=s.reverse().slice(1),n?s.join(n):s},get_next_dom:function(t,n){var i;if((t=this.get_node(t,!0))[0]===this.element[0]){for(i=this._firstChild(this.get_container_ul()[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do{i=this._nextSibling(i)}while(i&&0===i.offsetHeight);return!!i&&e(i)}if(t.hasClass("jstree-open")){for(i=this._firstChild(t.children(".jstree-children")[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);if(null!==i)return e(i)}i=t[0];do{i=this._nextSibling(i)}while(i&&0===i.offsetHeight);return null!==i?e(i):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var i;if((t=this.get_node(t,!0))[0]===this.element[0]){for(i=this.get_container_ul()[0].lastChild;i&&0===i.offsetHeight;)i=this._previousSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do{i=this._previousSibling(i)}while(i&&0===i.offsetHeight);return!!i&&e(i)}i=t[0];do{i=this._previousSibling(i)}while(i&&0===i.offsetHeight);if(null!==i){for(t=e(i);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(i=t[0].parentNode.parentNode)||!i.className||-1===i.className.indexOf("jstree-node"))&&e(i)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var i,a,r,s,o;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,r=0,s=t.parents.length;r<s;r++)this._model.data[t.parents[r]].children_d=e.vakata.array_filter(this._model.data[t.parents[r]].children_d,(function(n){return-1===e.inArray(n,t.children_d)}));for(i=0,a=t.children_d.length;i<a;i++)this._model.data[t.children_d[i]].state.selected&&(o=!0),delete this._model.data[t.children_d[i]];o&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(n){return-1===e.inArray(n,t.children_d)}))),t.children=[],t.children_d=[],o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy((function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var i,a=this.get_node(t,!0),r=0,s=this._model.data,o=!1;for(r=0,i=t.children.length;r<i;r++)if(s[t.children[r]]&&!s[t.children[r]].state.hidden){o=!0;break}t.state.loaded&&a&&a.length&&(a.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&a.addClass(t.state.opened?"jstree-open":"jstree-closed"):a.addClass("jstree-leaf")),a.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)}),this)),!0},_load_nodes:function(e,t,n,i){var a,r,s=!0,o=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(a=0,r=e.length;a<r;a++)l[e[a]]&&(!l[e[a]].state.loaded&&!l[e[a]].state.failed||!n&&i)&&(this.is_loading(e[a])||this.load_node(e[a],o),s=!1);if(s){for(a=0,r=e.length;a<r;a++)l[e[a]]&&l[e[a]].state.loaded&&c.push(e[a]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,a,r=[],s=this._model.data,o=s[t.id].children_d;for(t.state&&!t.state.loaded&&r.push(t.id),i=0,a=o.length;i<a;i++)s[o[i]]&&s[o[i]].state&&!s[o[i]].state.loaded&&r.push(o[i]);r.length?this._load_nodes(r,(function(){this.load_all(t,n)})):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var i,a=this.settings.core.data,r=function(){return 3!==this.nodeType&&8!==this.nodeType};return a?e.isFunction(a)?a.call(this,t,e.proxy((function(i){!1===i?n.call(this,!1):this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(r):i,(function(e){n.call(this,e)}))}),this)):"object"==typeof a?a.url?(a=e.extend(!0,{},a),e.isFunction(a.url)&&(a.url=a.url.call(this,t)),e.isFunction(a.data)&&(a.data=a.data.call(this,t)),e.ajax(a).done(e.proxy((function(i,a,s){var o=s.getResponseHeader("Content-Type");return o&&-1!==o.indexOf("json")||"object"==typeof i?this._append_json_data(t,i,(function(e){n.call(this,e)})):o&&-1!==o.indexOf("html")||"string"==typeof i?this._append_html_data(t,e(e.parseHTML(i)).filter(r),(function(e){n.call(this,e)})):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:s})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))}),this)).fail(e.proxy((function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}),this))):(i=e.isArray(a)?e.extend(!0,[],a):e.isPlainObject(a)?e.extend(!0,{},a):a,t.id===e.jstree.root?this._append_json_data(t,i,(function(e){n.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof a?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(a)).filter(r),(function(e){n.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),(function(e){n.call(this,e)})):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,i){(t=this.get_node(t)).children=[],t.children_d=[];var a,r,s,o=n.is("ul")?n.children():n,l=t.id,c=[],d=[],h=this._model.data,u=h[l],f=this._data.core.selected.length;for(o.each(e.proxy((function(t,n){(a=this._parse_model_from_html(e(n),l,u.parents.concat()))&&(c.push(a),d.push(a),h[a].children_d.length&&(d=d.concat(h[a].children_d)))}),this)),u.children=c,u.children_d=d,r=0,s=u.parents.length;r<s;r++)h[u.parents[r]].children_d=h[u.parents[r]].children_d.concat(d);this.trigger("model",{nodes:d,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(t,n,i,a){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.isArray(n)||(n=[n]);var r=null,s={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},o=this,l=function(e,t){e.data&&(e=e.data);var n,i,a,r,s=e.dat,l=e.par,c=[],d=[],h=[],u=e.df,f=e.t_id,p=e.t_cnt,g=e.m,_=g[l],m=e.sel,v=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var a,r,s,o,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in u)u.hasOwnProperty(a)&&(c.state[a]=u[a]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(c.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(c.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(c.li_attr[a]=e.li_attr[a]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(c.a_attr[a]=e.a_attr[a]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),g[c.id]=c,a=0,r=c.children.length;a<r;a++)s=v(g[c.children[a]],c.id,i),o=g[s],c.children_d.push(s),o.children_d.length&&(c.children_d=c.children_d.concat(o.children_d));return delete e.data,delete e.children,g[c.id].original=e,c.state.selected&&h.push(c.id),c.id},y=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var a,r,s,o,l,c=!1;do{c="j"+f+"_"+ ++p}while(g[c]);for(a in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(a)&&(l.state[a]=u[a]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(l.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(l.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(l.li_attr[a]=e.li_attr[a]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(l.a_attr[a]=e.a_attr[a]);if(e&&e.children&&e.children.length){for(a=0,r=e.children.length;a<r;a++)s=y(e.children[a],l.id,i),o=g[s],l.children.push(s),o.children_d.length&&(l.children_d=l.children_d.concat(o.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,g[l.id]=l,l.state.selected&&h.push(l.id),l.id};if(s.length&&s[0].id!==t&&s[0].parent!==t){for(i=0,a=s.length;i<a;i++)s[i].children||(s[i].children=[]),s[i].state||(s[i].state={}),g[s[i].id.toString()]=s[i];for(i=0,a=s.length;i<a;i++)g[s[i].parent.toString()]?(g[s[i].parent.toString()].children.push(s[i].id.toString()),_.children_d.push(s[i].id.toString())):void 0!==o&&(o._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:s[i].id.toString(),parent:s[i].parent.toString()})},o.settings.core.error.call(o,o._data.core.last_error));for(i=0,a=_.children.length;i<a;i++)n=v(g[_.children[i]],l,_.parents.concat()),d.push(n),g[n].children_d.length&&(d=d.concat(g[n].children_d));for(i=0,a=_.parents.length;i<a;i++)g[_.parents[i]].children_d=g[_.parents[i]].children_d.concat(d);r={cnt:p,mod:g,sel:m,par:l,dpc:d,add:h}}else{for(i=0,a=s.length;i<a;i++)(n=y(s[i],l,_.parents.concat()))&&(c.push(n),d.push(n),g[n].children_d.length&&(d=d.concat(g[n].children_d)));for(_.children=c,_.children_d=d,i=0,a=_.parents.length;i<a;i++)g[_.parents[i]].children_d=g[_.parents[i]].children_d.concat(d);r={cnt:p,mod:g,sel:m,par:l,dpc:d,add:h}}if("undefined"!=typeof window&&void 0!==window.document)return r;postMessage(r)},c=function(t,n){if(null!==this.element){this._cnt=t.cnt;var a,r=this._model.data;for(a in r)r.hasOwnProperty(a)&&r[a].state&&r[a].state.loading&&t.mod[a]&&(t.mod[a].state.loading=!0);if(this._model.data=t.mod,n){var s,o=t.add,l=t.sel,c=this._data.core.selected.slice();if(r=this._model.data,l.length!==c.length||e.vakata.array_unique(l.concat(c)).length!==l.length){for(a=0,s=l.length;a<s;a++)-1===e.inArray(l[a],o)&&-1===e.inArray(l[a],c)&&(r[l[a]].state.selected=!1);for(a=0,s=c.length;a<s;a++)-1===e.inArray(c[a],l)&&(r[c[a]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||a?(this._data.core.working=!0,(r=new window.Worker(this._wrk)).onmessage=e.proxy((function(e){c.call(this,e.data,!0);try{r.terminate(),r=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}),this),s.par?r.postMessage(s):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,i,!0])}catch(e){c.call(this,l(s),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else c.call(this,l(s),!1)}},_parse_model_from_html:function(n,i,a){a=a?[].concat(a):[],i&&a.unshift(i);var r,s,o,l,c,d=this._model.data,h={id:!1,text:!1,icon:!0,parent:i,parents:a,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(h.state[o]=this._model.default_state[o]);if(l=e.vakata.attributes(n,!0),e.each(l,(function(t,n){if(!(n=e.trim(n)).length)return!0;h.li_attr[t]=n,"id"===t&&(h.id=n.toString())})),(l=n.children("a").first()).length&&(l=e.vakata.attributes(l,!0),e.each(l,(function(t,n){(n=e.trim(n)).length&&(h.a_attr[t]=n)}))),(l=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),h.text=this.settings.core.force_text?l.text():l.html(),l=n.data(),h.data=l?e.extend(!0,{},l):null,h.state.opened=n.hasClass("jstree-open"),h.state.selected=n.children("a").hasClass("jstree-clicked"),h.state.disabled=n.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(o in h.data.jstree)h.data.jstree.hasOwnProperty(o)&&(h.state[o]=h.data.jstree[o]);(l=n.children("a").children(".jstree-themeicon")).length&&(h.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),l=n.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);return h.id=h.li_attr.id?h.li_attr.id.toString():c,l.length?(l.each(e.proxy((function(t,n){r=this._parse_model_from_html(e(n),h.id,a),s=this._model.data[r],h.children.push(r),s.children_d.length&&(h.children_d=h.children_d.concat(s.children_d))}),this)),h.children_d=h.children_d.concat(h.children)):n.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),d[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var a,r,s,o,l=e.id.toString(),c=this._model.data,d=this._model.default_state,h={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in d)d.hasOwnProperty(a)&&(h.state[a]=d[a]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(h.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(h.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(h.li_attr[a]=e.li_attr[a]);if(h.li_attr.id||(h.li_attr.id=l),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(h.a_attr[a]=e.a_attr[a]);for(e&&e.children&&!0===e.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),c[h.id]=h,a=0,r=h.children.length;a<r;a++)o=c[s=this._parse_model_from_flat_json(c[h.children[a]],h.id,i)],h.children_d.push(s),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d));return delete e.data,delete e.children,c[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var a,r,s,o,l,c=!1,d=this._model.data,h=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);for(a in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(a)&&(l.state[a]=h[a]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(l.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(l.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(l.li_attr[a]=e.li_attr[a]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(l.a_attr[a]=e.a_attr[a]);if(e&&e.children&&e.children.length){for(a=0,r=e.children.length;a<r;a++)o=d[s=this._parse_model_from_json(e.children[a],l.id,i)],l.children.push(s),o.children_d.length&&(l.children_d=l.children_d.concat(o.children_d));l.children_d=l.children.concat(l.children_d)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,d[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,n,i,a=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),r=l.createElement("UL"),s=this._data.core.focused;for(n=0,i=a.length;n<i;n++)(t=this.redraw_node(a[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&r.appendChild(t);this._model.force_full_redraw&&(r.className=this.get_container_ul()[0].className,r.setAttribute("role","group"),this.element.empty().append(r)),null!==s&&this.settings.core.restore_focus&&((t=this.get_node(s,!0))&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:a})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),i=!1,a=!1,r=!1,s=l;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((r=s.createElement("UL")).setAttribute("role","group"),r.className="jstree-children",i=0,a=n.children.length;i<a;i++)r.appendChild(this.redraw_node(n.children[i],!0,!0));t.appendChild(r)}},redraw_node:function(t,n,i,a){var r=this.get_node(t),s=!1,o=!1,c=!1,d=!1,h=!1,u=!1,f="",p=l,g=this._model.data,_=!1,m=null,v=0,y=0,b=!1,k=!1;if(!r)return!1;if(r.id===e.jstree.root)return this.redraw(!0);if(n=n||0===r.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(r.id[0])?"\\3"+r.id[0]+" "+r.id.substr(1).replace(e.jstree.idregex,"\\$&"):r.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(r.id))t=e(t),i||((s=t.parent().parent()[0])===this.element[0]&&(s=null),o=t.index()),n||!r.children.length||t.children(".jstree-children").length||(n=!0),n||(c=t.children(".jstree-children")[0]),_=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(n=!0,!i){if(!(null===(s=r.parent!==e.jstree.root?e("#"+r.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&g[r.parent].state.opened))return!1;o=e.inArray(r.id,null===s?g[e.jstree.root].children:g[r.parent].children)}for(d in t=this._data.core.node.cloneNode(!0),f="jstree-node ",r.li_attr)if(r.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,r.li_attr[d]):f+=r.li_attr[d]}for(r.a_attr.id||(r.a_attr.id=r.id+"_anchor"),t.setAttribute("aria-selected",!!r.state.selected),t.setAttribute("aria-level",r.parents.length),t.setAttribute("aria-labelledby",r.a_attr.id),r.state.disabled&&t.setAttribute("aria-disabled",!0),d=0,h=r.children.length;d<h;d++)if(!g[r.children[d]].state.hidden){b=!0;break}if(null!==r.parent&&g[r.parent]&&!r.state.hidden&&(d=e.inArray(r.id,g[r.parent].children),k=r.id,-1!==d))for(d++,h=g[r.parent].children.length;d<h&&(g[g[r.parent].children[d]].state.hidden||(k=g[r.parent].children[d]),k===r.id);d++);for(h in r.state.hidden&&(f+=" jstree-hidden"),r.state.loading&&(f+=" jstree-loading"),r.state.loaded&&!b?f+=" jstree-leaf":(f+=r.state.opened&&r.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",r.state.opened&&r.state.loaded)),k===r.id&&(f+=" jstree-last"),t.id=r.id,t.className=f,f=(r.state.selected?" jstree-clicked":"")+(r.state.disabled?" jstree-disabled":""),r.a_attr)if(r.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===r.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,r.a_attr[h]):f+=" "+r.a_attr[h]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(r.icon&&!0!==r.icon||!1===r.icon)&&(!1===r.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===r.icon.indexOf("/")&&-1===r.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+r.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+r.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(r.text)):t.childNodes[1].innerHTML+=r.text,n&&r.children.length&&(r.state.opened||a)&&r.state.loaded){for((u=p.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",d=0,h=r.children.length;d<h;d++)u.appendChild(this.redraw_node(r.children[d],n,!0));t.appendChild(u)}if(c&&t.appendChild(c),!i){for(s||(s=this.element[0]),d=0,h=s.childNodes.length;d<h;d++)if(s.childNodes[d]&&s.childNodes[d].className&&-1!==s.childNodes[d].className.indexOf("jstree-children")){m=s.childNodes[d];break}m||((m=p.createElement("UL")).setAttribute("role","group"),m.className="jstree-children",s.appendChild(m)),o<(s=m).childNodes.length?s.insertBefore(t,s.childNodes[o]):s.appendChild(t),_&&(v=this.element[0].scrollTop,y=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=y)}return r.state.opened&&!r.state.loaded&&(r.state.opened=!1,setTimeout(e.proxy((function(){this.open_node(r.id,!1,0)}),this),0)),t},open_node:function(n,i,a){var r,s,o,l;if(e.isArray(n)){for(r=0,s=(n=n.slice()).length;r<s;r++)this.open_node(n[r],i,a);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(a=a===t?this.settings.core.animation:a,this.is_closed(n)?this.is_loaded(n)?(o=this.get_node(n,!0),l=this,o.length&&(a&&o.children(".jstree-children").length&&o.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(o.children(".jstree-children")[0])&&this.draw_children(n),a?(this.trigger("before_open",{node:n}),o.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(a,(function(){this.style.display="",l.element&&l.trigger("after_open",{node:n})}))):(this.trigger("before_open",{node:n}),o[0].className=o[0].className.replace("jstree-closed","jstree-open"),o[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,i&&i.call(this,n,!0),o.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),a&&o.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy((function(){this.open_node(n,i,a)}),this),500):void this.load_node(n,(function(e,t){return t?this.open_node(e,i,a):!!i&&i.call(this,e,!1)})):(i&&i.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,i,a=t.parents;for(n=0,i=a.length;n<i;n+=1)n!==e.jstree.root&&this.open_node(a[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,i){var a,r,s,o;if(e.isArray(n)){for(a=0,r=(n=n.slice()).length;a<r;a++)this.close_node(n[a],i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(!this.is_closed(n)&&(i=i===t?this.settings.core.animation:i,s=this,o=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(o.length?i?o.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(i,(function(){this.style.display="",o.children(".jstree-children").remove(),s.element&&s.trigger("after_close",{node:n})})):(o[0].className=o[0].className.replace("jstree-open","jstree-closed"),o.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n}))))},toggle_node:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var a,r,s,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!o.length){for(a=0,r=t.children_d.length;a<r;a++)this.is_closed(this._model.data[t.children_d[a]])&&(this._model.data[t.children_d[a]].state.opened=!0);return this.trigger("open_all",{node:t})}i=i||o,s=this,(o=this.is_closed(t)?o.find(".jstree-closed").addBack():o.find(".jstree-closed")).each((function(){s.open_node(this,(function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,i)}),n||0)})),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,a,r=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),s=this;for(r.length&&(r=this.is_open(t)?r.find(".jstree-open").addBack():r.find(".jstree-open"),e(r.get().reverse()).each((function(){s.close_node(this,n||0)}))),i=0,a=t.children_d.length;i<a;i++)this._model.data[t.children_d[i]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var i,a;if(e.isArray(t)){for(i=0,a=(t=t.slice()).length;i<a;i++)this.hide_node(t[i],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,n){var i,a;if(e.isArray(t)){for(i=0,a=(t=t.slice()).length;i<a;i++)this.show_node(t[i],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var n,i=this._model.data,a=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&!i[n].state.hidden&&(i[n].state.hidden=!0,a.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:a}),a},show_all:function(t){var n,i=this._model.data,a=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&i[n].state.hidden&&(i[n].state.hidden=!1,a.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:a}),a},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var i,a,r=this.get_node(e).id,s=this._data.core.last_clicked.id,o=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(i=0,a=o.length;i<a;i+=1)o[i]===r&&(l=!l),o[i]===s&&(l=!l),this.is_disabled(o[i])||!l&&o[i]!==r&&o[i]!==s?this.deselect_node(o[i],!0,n):this.is_hidden(o[i])||this.select_node(o[i],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout((function(){n.attr("aria-activedescendant",e[0].id)}),0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,i,a){var r,s,o;if(e.isArray(t)){for(s=0,o=(t=t.slice()).length;s<o;s++)this.select_node(t[s],n,i,a);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),i||(r=this._open_to(t)),r&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:a}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:a}))},deselect_node:function(t,n,i){var a,r,s;if(e.isArray(t)){for(a=0,r=(t=t.slice()).length;a<r;a++)this.deselect_node(t[a],n,i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:i}))},select_all:function(t){var n,i,a=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,i=this._data.core.selected.length;n<i;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:a})},deselect_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy((function(e){return this.get_node(e)}),this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,i,a,r,s=this.get_selected(!0),o={};for(n=0,i=s.length;n<i;n++)o[s[n].id]=s[n];for(n=0,i=s.length;n<i;n++)for(a=0,r=s[n].children_d.length;a<r;a++)o[s[n].children_d[a]]&&delete o[s[n].children_d[a]];for(n in s=[],o)o.hasOwnProperty(n)&&s.push(n);return t?e.map(s,e.proxy((function(e){return this.get_node(e)}),this)):s},get_bottom_selected:function(t){var n,i,a=this.get_selected(!0),r=[];for(n=0,i=a.length;n<i;n++)a[n].children.length||r.push(a[n].id);return t?e.map(r,e.proxy((function(e){return this.get_node(e)}),this)):r},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,i){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var a,r;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,(function(e){delete n.core.loaded,this.set_state(n,i)})):(delete n.core.loaded,this.set_state(n,i)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,(function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,i)})):(delete n.core.open,this.set_state(n,i)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,i),!1;if(n.core.selected)return a=this,n.core.initial_selection!==t&&n.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(n.core.selected,(function(e,t){a.select_node(t,!1,!0)}))),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,i),!1;for(r in n)n.hasOwnProperty(r)&&"core"!==r&&-1===e.inArray(r,this.settings.plugins)&&delete n[r];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,i),!1}return!e.isEmptyObject(n)||(n=null,i&&i.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var i=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+i+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,(function(t,n){n&&(this.get_container_ul()[0].className=i,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),(function(){this.trigger("refresh")}))),this._data.core.state=null}))},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],i=[],a=this._data.core.selected.concat([]);i.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each((function(){i.push(this.id),n.push(this.id)})),this._load_nodes(i,e.proxy((function(e){this.open_node(n,!1,0),this.select_node(a),this.trigger("refresh_node",{node:t,nodes:e})}),this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i,a,r=this._model.data,s=t.id;for(n=n.toString(),r[t.parent].children[e.inArray(t.id,r[t.parent].children)]=n,i=0,a=t.parents.length;i<a;i++)r[t.parents[i]].children_d[e.inArray(t.id,r[t.parents[i]].children_d)]=n;for(i=0,a=t.children.length;i<a;i++)r[t.children[i]].parent=n;for(i=0,a=t.children_d.length;i<a;i++)r[t.children_d[i]].parents[e.inArray(t.id,r[t.children_d[i]].parents)]=n;return-1!==(i=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[i]=n),(i=this.get_node(t.id,!0))&&(i.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete r[t.id],t.id=n,t.li_attr.id=n,r[n]=t,this.trigger("set_id",{node:t,new:t.id,old:s}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var i,a;if(e.isArray(t)){for(i=0,a=(t=t.slice()).length;i<a;i++)this.set_text(t[i],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0)},get_json:function(t,n,i){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!i&&(i=[]);var a,r,s={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?s.parent=t.parent:s.children=[],n&&n.no_state)delete s.state;else for(a in t.state)t.state.hasOwnProperty(a)&&(s.state[a]=t.state[a]);if(n&&n.no_li_attr&&delete s.li_attr,n&&n.no_a_attr&&delete s.a_attr,n&&n.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&i.push(s),!n||!n.no_children)for(a=0,r=t.children.length;a<r;a++)n&&n.flat?this.get_json(t.children[a],n,i):s.children.push(this.get_json(t.children[a],n));return n&&n.flat?i:t.id===e.jstree.root?s.children:s},create_node:function(n,i,a,r,s){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(a=a===t?"last":a).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return this.load_node(n,(function(){this.create_node(n,i,a,r,!0)}));var o,l,c,d;switch(i||(i={text:this.get_string("New node")}),(i="string"==typeof i?{text:i}:e.extend(!0,{},i)).text===t&&(i.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===a&&(a="first"),"after"===a&&(a="last")),a){case"before":o=this.get_node(n.parent),a=e.inArray(n.id,o.children),n=o;break;case"after":o=this.get_node(n.parent),a=e.inArray(n.id,o.children)+1,n=o;break;case"inside":case"first":a=0;break;case"last":a=n.children.length;break;default:a||(a=0)}if(a>n.children.length&&(a=n.children.length),i.id||(i.id=!0),!this.check("create_node",i,n,a))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===i.id&&delete i.id,!(i=this._parse_model_from_json(i,n.id,n.parents.concat())))return!1;for(o=this.get_node(i),(l=[]).push(i),l=l.concat(o.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,d=n.parents.length;c<d;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(i=o,o=[],c=0,d=n.children.length;c<d;c++)o[c>=a?c+1:c]=n.children[c];return o[a]=i.id,n.children=o,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(i),parent:n.id,position:a}),r&&r.call(this,this.get_node(i)),i.id},rename_node:function(t,n){var i,a,r;if(e.isArray(t)){for(i=0,a=(t=t.slice()).length;i<a;i++)this.rename_node(t[i],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(r=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:r}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var n,i,a,r,s,o,l,c,d,h,u,f;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(a=this.get_node(t.parent),r=e.inArray(t.id,a.children),h=!1,!this.check("delete_node",t,a,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==r&&(a.children=e.vakata.array_remove(a.children,r)),(s=t.children_d.concat([])).push(t.id),o=0,l=t.parents.length;o<l;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,(function(t){return-1===e.inArray(t,s)}));for(c=0,d=s.length;c<d;c++)if(this._model.data[s[c]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(t){return-1===e.inArray(t,s)}))),this.trigger("delete_node",{node:t,parent:a.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:a.id}),c=0,d=s.length;c<d;c++)delete this._model.data[s[c]];return-1!==e.inArray(this._data.core.focused,s)&&(this._data.core.focused=null,u=this.element[0].scrollTop,f=this.element[0].scrollLeft,a.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(a,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=f),this.redraw_node(a,!0),!0},check:function(t,n,i,a,r){n=n&&n.id?n:this.get_node(n),i=i&&i.id?i:this.get_node(i);var s=t.match(/^move_node|copy_node|create_node$/i)?i:n,o=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(r&&r.is_multi||"move_node"!==t||e.inArray(n.id,i.children)!==a))return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1;if(!(r&&r.is_multi||n.id!==i.id&&("move_node"!==t||e.inArray(n.id,i.children)!==a)&&-1===e.inArray(i.id,n.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1}return s&&s.data&&(s=s.data),s&&s.functions&&(!1===s.functions[t]||!0===s.functions[t])?(!1===s.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s.functions[t]):!(!1===o||e.isFunction(o)&&!1===o.call(this,t,n,i,a,r)||o&&!1===o[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,i,a,r,s,o,l){var c,d,h,u,f,p,g,_,m,v,y,b,k,w;if(i=this.get_node(i),a=a===t?0:a,!i)return!1;if(!a.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(i))return this.load_node(i,(function(){this.move_node(n,i,a,r,!0,!1,l)}));if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;c<d;c++)(m=this.move_node(n[c],i,a,r,s,!1,l))&&(i=m,a="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(h=(n.parent||e.jstree.root).toString(),f=a.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,g=!(p=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!p._id||this._id!==p._id,u=p&&p._id&&h&&p._model.data[h]&&p._model.data[h].children?e.inArray(n.id,p._model.data[h].children):-1,p&&p._id&&(n=p._model.data[n.id]),g)return!!(m=this.copy_node(n,i,a,r,s,!1,l))&&(p&&p.delete_node(n),m);switch(i.id===e.jstree.root&&("before"===a&&(a="first"),"after"===a&&(a="last")),a){case"before":a=e.inArray(i.id,f.children);break;case"after":a=e.inArray(i.id,f.children)+1;break;case"inside":case"first":a=0;break;case"last":a=f.children.length;break;default:a||(a=0)}if(a>f.children.length&&(a=f.children.length),!this.check("move_node",n,f,a,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(_=f.children.concat(),-1!==(m=e.inArray(n.id,_))&&(_=e.vakata.array_remove(_,m),a>m&&a--),m=[],v=0,y=_.length;v<y;v++)m[v>=a?v+1:v]=_[v];m[a]=n.id,f.children=m,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for((m=n.children_d.concat()).push(n.id),v=0,y=n.parents.length;v<y;v++){for(_=[],b=0,k=(w=p._model.data[n.parents[v]].children_d).length;b<k;b++)-1===e.inArray(w[b],m)&&_.push(w[b]);p._model.data[n.parents[v]].children_d=_}for(p._model.data[h].children=e.vakata.array_remove_item(p._model.data[h].children,n.id),v=0,y=f.parents.length;v<y;v++)this._model.data[f.parents[v]].children_d=this._model.data[f.parents[v]].children_d.concat(m);for(_=[],v=0,y=f.children.length;v<y;v++)_[v>=a?v+1:v]=f.children[v];for(_[a]=n.id,f.children=_,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,(m=f.parents.concat()).unshift(f.id),w=n.parents.length,n.parents=m,m=m.concat(),v=0,y=n.children_d.length;v<y;v++)this._model.data[n.children_d[v]].parents=this._model.data[n.children_d[v]].parents.slice(0,-1*w),Array.prototype.push.apply(this._model.data[n.children_d[v]].parents,m);h!==e.jstree.root&&f.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(f.id)),o||this.redraw()}return r&&r.call(this,n,f,a),this.trigger("move_node",{node:n,parent:f.id,position:a,old_parent:h,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,i,a,r,s,o,l){var c,d,h,u,f,p,g,_,m,v;if(i=this.get_node(i),a=a===t?0:a,!i)return!1;if(!a.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(i))return this.load_node(i,(function(){this.copy_node(n,i,a,r,!0,!1,l)}));if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;c<d;c++)(u=this.copy_node(n[c],i,a,r,s,!0,l))&&(i=u,a="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(_=(n.parent||e.jstree.root).toString(),m=a.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,!(v=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!v._id||this._id!==v._id,v&&v._id&&(n=v._model.data[n.id]),i.id===e.jstree.root&&("before"===a&&(a="first"),"after"===a&&(a="last")),a){case"before":a=e.inArray(i.id,m.children);break;case"after":a=e.inArray(i.id,m.children)+1;break;case"inside":case"first":a=0;break;case"last":a=m.children.length;break;default:a||(a=0)}if(a>m.children.length&&(a=m.children.length),!this.check("copy_node",n,m,a,{core:!0,origin:l,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,m.id,m.parents.concat())))return!1;for(u=this.get_node(g),n&&n.state&&!1===n.state.loaded&&(u.state.loaded=!1),(h=[]).push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:m.id}),f=0,p=m.parents.length;f<p;f++)this._model.data[m.parents[f]].children_d=this._model.data[m.parents[f]].children_d.concat(h);for(h=[],f=0,p=m.children.length;f<p;f++)h[f>=a?f+1:f]=m.children[f];return h[a]=u.id,m.children=h,m.children_d.push(u.id),m.children_d=m.children_d.concat(u.children_d),m.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(m.id),o||this.redraw(m.id===e.jstree.root),r&&r.call(this,u,m,a),this.trigger("copy_node",{node:u,original:n,parent:m.id,position:a,old_parent:_,old_position:v&&v._id&&_&&v._model.data[_]&&v._model.data[_].children?e.inArray(n.id,v._model.data[_].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,s,o,l=[];for(s=0,o=t.length;s<o;s++)(n=this.get_node(t[s]))&&n.id&&n.id!==e.jstree.root&&l.push(n);if(!l.length)return!1;i=l,r=this,a="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,s,o,l=[];for(s=0,o=t.length;s<o;s++)(n=this.get_node(t[s]))&&n.id&&n.id!==e.jstree.root&&l.push(n);if(!l.length)return!1;i=l,r=this,a="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:a,node:i,inst:r}},can_paste:function(){return!1!==a&&!1!==i},paste:function(e,t){if(!((e=this.get_node(e))&&a&&a.match(/^(copy_node|move_node)$/)&&i))return!1;this[a](i,e,t,!1,!1,!1,r)&&this.trigger("paste",{parent:e.id,node:i,mode:a}),i=!1,a=!1,r=!1},clear_buffer:function(){i=!1,a=!1,r=!1,this.trigger("clear_buffer")},edit:function(t,n,i){var a,r,s,o,c,d,h,u,f,p=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,a=this._data.core.rtl,r=this.element.width(),this._data.core.focused=f.id,s=t.children(".jstree-anchor").focus(),o=e("<span>"),c=n,d=e("<div />",{css:{position:"absolute",top:"-200px",left:a?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),h=e("<input />",{value:c,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy((function(n){n.stopImmediatePropagation(),n.preventDefault();var a,r=o.children(".jstree-rename-input").val(),l=this.settings.core.force_text;""===r&&(r=c),d.remove(),o.replaceWith(s),o.remove(),c=l?c:e("<div></div>").append(e.parseHTML(c)).html(),t=this.get_node(t),this.set_text(t,c),(a=!!this.rename_node(t,l?e("<div></div>").text(r).text():e("<div></div>").append(e.parseHTML(r)).html()))||this.set_text(t,c),this._data.core.focused=f.id,setTimeout(e.proxy((function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())}),this),0),i&&i.call(this,f,a,p),h=null}),this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=c),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(d.text("pW"+this.value).width(),r))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:s.css("fontFamily")||"",fontSize:s.css("fontSize")||"",fontWeight:s.css("fontWeight")||"",fontStyle:s.css("fontStyle")||"",fontStretch:s.css("fontStretch")||"",fontVariant:s.css("fontVariant")||"",letterSpacing:s.css("letterSpacing")||"",wordSpacing:s.css("wordSpacing")||""},o.attr("class",s.attr("class")).append(s.contents().clone()).append(h),s.replaceWith(o),d.css(u),h.css(u).width(Math.min(d.text("pW"+h[0].value).width(),r))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",(function(t){h&&t.target!==h&&e(h).blur()}))):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var i=this.settings.core.themes.dir;i||(i=e.jstree.path+"/themes"),n=i+"/"+t+"/style.css"}n&&-1===e.inArray(n,s)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),s.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,i){var a,r,s,o;if(e.isArray(n)){for(a=0,r=(n=n.slice()).length;a<r;a++)this.set_icon(n[a],i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(o=n.icon,n.icon=!0===i||null===i||i===t||""===i||i,s=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===i?(s.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===i||null===i||i===t||""===i?(s.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),!1===o&&this.show_icon(n)):-1===i.indexOf("/")&&-1===i.indexOf(".")?(s.removeClass(o).css("background",""),s.addClass(i+" jstree-themeicon-custom").attr("rel",i),!1===o&&this.show_icon(n)):(s.removeClass(o).css("background",""),s.addClass("jstree-themeicon-custom").css("background","url('"+i+"') center center no-repeat").attr("rel",i),!1===o&&this.show_icon(n)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var n,i,a;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(a=this.get_node(t,!0),t.icon=!a.length||a.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),a.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var i=n?{}:[];return t&&t.attributes&&e.each(t.attributes,(function(t,a){-1===e.inArray(a.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==a.value&&""!==e.trim(a.value)&&(n?i[a.name]=a.value:i.push(a.name))})),i},e.vakata.array_unique=function(e){var n,i,a=[],r={};for(n=0,i=e.length;n<i;n++)r[e[n]]===t&&(a.push(e[n]),r[e[n]]=!0);return a},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var i=e.inArray(n,t);return-1!==i?e.vakata.array_remove(t,i):t},e.vakata.array_filter=function(e,t,n,i,a){if(e.filter)return e.filter(t,n);for(a in i=[],e)~~a+""==a+""&&a>=0&&t.call(n,e[a],+a,e)&&i.push(e[a]);return i},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,i){var a,r;if(i||(i={}),"changed"===e.replace(".jstree","")){i.changed={selected:[],deselected:[]};var s={};for(a=0,r=n.length;a<r;a++)s[n[a]]=1;for(a=0,r=i.selected.length;a<r;a++)s[i.selected[a]]?s[i.selected[a]]=2:i.changed.selected.push(i.selected[a]);for(a=0,r=n.length;a<r;a++)1===s[n[a]]&&i.changed.deselected.push(n[a]);n=i.selected.slice()}t.trigger.call(this,e,i)},this.refresh=function(e,i){return n=[],t.refresh.apply(this,arguments)}};var c,d,h=l.createElement("I");h.className="jstree-icon jstree-checkbox",h.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,i){this.bind=function(){i.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy((function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}),this)).on("loading.jstree",e.proxy((function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}),this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy((function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)}),this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy((function(e,t){var n,i,a=this._model.data,r=(a[t.parent],t.nodes);for(n=0,i=r.length;n<i;n++)a[r[n]].state.checked=a[r[n]].state.checked||a[r[n]].original&&a[r[n]].original.state&&a[r[n]].original.state.checked,a[r[n]].state.checked&&this._data.checkbox.selected.push(r[n])}),this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy((function(t,n){var i,a,r,s,o,l,c=this._model.data,d=c[n.parent],h=n.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(d.state[p?"selected":"checked"]){for(a=0,r=h.length;a<r;a++)c[h[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h)}else for(a=0,r=h.length;a<r;a++)if(c[h[a]].state[p?"selected":"checked"]){for(s=0,o=c[h[a]].children_d.length;s<o;s++)c[c[h[a]].children_d[s]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[h[a]].children_d)}if(-1!==f.indexOf("up")){for(a=0,r=d.children_d.length;a<r;a++)c[d.children_d[a]].children.length||u.push(c[d.children_d[a]].parent);for(s=0,o=(u=e.vakata.array_unique(u)).length;s<o;s++)for(d=c[u[s]];d&&d.id!==e.jstree.root;){for(i=0,a=0,r=d.children.length;a<r;a++)i+=c[d.children[a]].state[p?"selected":"checked"];if(i!==r)break;d.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(d.id),(l=this.get_node(d,!0))&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)}),this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy((function(t,n){var i,a,r,s,o=n.node,l=this._model.data,c=this.get_node(o.parent),d=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},f=this._data[h?"core":"checkbox"].selected;for(i=0,a=f.length;i<a;i++)u[f[i]]=!0;if(-1!==d.indexOf("down")){var p=this._cascade_new_checked_state(o.id,!0),g=o.children_d.concat(o.id);for(i=0,a=g.length;i<a;i++)p.indexOf(g[i])>-1?u[g[i]]=!0:delete u[g[i]]}if(-1!==d.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(r=0,i=0,a=c.children.length;i<a;i++)r+=l[c.children[i]].state[h?"selected":"checked"];if(r!==a)break;c.state[h?"selected":"checked"]=!0,u[c.id]=!0,(s=this.get_node(c,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}for(i in f=[],u)u.hasOwnProperty(i)&&f.push(i);this._data[h?"core":"checkbox"].selected=f}),this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy((function(t,n){var i,a,r,s=this.get_node(e.jstree.root),o=this._model.data;for(i=0,a=s.children_d.length;i<a;i++)(r=o[s.children_d[i]])&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1)}),this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy((function(t,n){var i,a,r,s=n.node,o=(this.get_node(s,!0),this.settings.checkbox.cascade),l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,d=s.children_d.concat(s.id);if(-1!==o.indexOf("down")){var h=this._cascade_new_checked_state(s.id,!1);c=e.vakata.array_filter(c,(function(e){return-1===d.indexOf(e)||h.indexOf(e)>-1}))}if(-1!==o.indexOf("up")&&-1===c.indexOf(s.id)){for(i=0,a=s.parents.length;i<a;i++)(r=this._model.data[s.parents[i]]).state[l?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),(r=this.get_node(s.parents[i],!0))&&r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked");c=e.vakata.array_filter(c,(function(e){return-1===s.parents.indexOf(e)}))}this._data[l?"core":"checkbox"].selected=c}),this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy((function(t,n){for(var i,a,r,s,o=this.get_node(n.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;o&&o.id!==e.jstree.root&&!o.state[c?"selected":"checked"];){for(r=0,i=0,a=o.children.length;i<a;i++)r+=l[o.children[i]].state[c?"selected":"checked"];if(!(a>0&&r===a))break;o.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(o.id),(s=this.get_node(o,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}}),this)).on("move_node.jstree",e.proxy((function(t,n){var i,a,r,s,o,l=n.is_multi,c=n.old_parent,d=this.get_node(n.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!l)for(i=this.get_node(c);i&&i.id!==e.jstree.root&&!i.state[u?"selected":"checked"];){for(a=0,r=0,s=i.children.length;r<s;r++)a+=h[i.children[r]].state[u?"selected":"checked"];if(!(s>0&&a===s))break;i.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(i.id),(o=this.get_node(i,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=d;i&&i.id!==e.jstree.root;){for(a=0,r=0,s=i.children.length;r<s;r++)a+=h[i.children[r]].state[u?"selected":"checked"];if(a===s)i.state[u?"selected":"checked"]||(i.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(i.id),(o=this.get_node(i,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!i.state[u?"selected":"checked"])break;i.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,i.id),(o=this.get_node(i,!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}}),this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var i,a,r,s,o={},l=this._model.data,c=this.settings.checkbox.tie_selection,d=this._data[c?"core":"checkbox"].selected,h=[],u=this,f=[];for(i=0,a=d.length;i<a;i++)if(l[d[i]]&&l[d[i]].parents)for(r=0,s=l[d[i]].parents.length;r<s&&o[l[d[i]].parents[r]]===t;r++)l[d[i]].parents[r]!==e.jstree.root&&(o[l[d[i]].parents[r]]=!0,h.push(l[d[i]].parents[r]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each((function(){var n,c=u.get_node(this);if(c)if(c.state.loaded){for(i=0,a=c.children_d.length;i<a;i++)if(!(n=l[c.children_d[i]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(o[n.id]===t&&n.id!==e.jstree.root&&(o[n.id]=!0,h.push(n.id)),r=0,s=n.parents.length;r<s;r++)o[n.parents[r]]===t&&n.parents[r]!==e.jstree.root&&(o[n.parents[r]]=!0,h.push(n.parents[r]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(o[c.id]===t&&c.id!==e.jstree.root&&(o[c.id]=!0,h.push(c.id)),r=0,s=c.parents.length;r<s;r++)o[c.parents[r]]===t&&c.parents[r]!==e.jstree.root&&(o[c.parents[r]]=!0,h.push(c.parents[r]))})),i=0,a=h.length;i<a;i++)l[h[i]].state[c?"selected":"checked"]||f.push(n?l[h[i]]:h[i]);return f},this._undetermined=function(){if(null!==this.element){var e,t,n,i=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=i.length;e<t;e++)(n=this.get_node(i[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,a,r){if(t=i.redraw_node.apply(this,arguments)){var s,o,l=null,c=null;for(s=0,o=t.childNodes.length;s<o;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){l=t.childNodes[s];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),c=h.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),l.insertBefore(c,l.childNodes[0]))}return a||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,i,a=this.settings.checkbox.cascade,r=this.settings.checkbox.tie_selection,s=this._data[r?"core":"checkbox"].selected,o=this._model.data;if(!t||!0===t.state[r?"selected":"checked"]||-1===a.indexOf("undetermined")||-1===a.indexOf("down")&&-1===a.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,i=t.children_d.length;n<i;n++)if(-1!==e.inArray(t.children_d[n],s)||!o[t.children_d[n]].state.loaded&&o[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,i,a;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.disable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,a&&a.length&&a.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var n,i,a;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;n<i;n++)this.enable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,a&&a.length&&a.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?i.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,i,a,r=this.settings.checkbox.tie_selection,s=this._model.data[e],o=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&s.state.disabled||!this.settings.checkbox.cascade_to_hidden&&s.state.hidden)a=this.get_checked_descendants(e),s.state[r?"selected":"checked"]&&a.push(s.id),o=o.concat(a);else{if(s.children)for(n=0,i=s.children.length;n<i;n++){var c=s.children[n];a=this._cascade_new_checked_state(c,t),o=o.concat(a),a.indexOf(c)>-1&&l.push(c)}var d=this.get_node(s,!0),h=l.length>0&&l.length<s.children.length;s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=h),h?(s.state[r?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(r?"jstree-clicked":"jstree-checked")):t&&l.length===s.children.length?(s.state[r?"selected":"checked"]=t,o.push(s.id),d.attr("aria-selected",!0).children(".jstree-anchor").addClass(r?"jstree-clicked":"jstree-checked")):(s.state[r?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(r?"jstree-clicked":"jstree-checked"))}return o},this.get_checked_descendants=function(t){var n=this,i=n.settings.checkbox.tie_selection,a=n._model.data[t];return e.vakata.array_filter(a.children_d,(function(e){return n._model.data[e].state[i?"selected":"checked"]}))},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var i,a,r;if(e.isArray(t)){for(a=0,r=(t=t.slice()).length;a<r;a++)this.check_node(t[a],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var i,a,r;if(e.isArray(t)){for(i=0,a=(t=t.slice()).length;i<a;i++)this.uncheck_node(t[i],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),r.length&&r.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy((function(e){return this.get_node(e)}),this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,i,a,r,s=this.get_checked(!0),o={};for(n=0,i=s.length;n<i;n++)o[s[n].id]=s[n];for(n=0,i=s.length;n<i;n++)for(a=0,r=s[n].children_d.length;a<r;a++)o[s[n].children_d[a]]&&delete o[s[n].children_d[a]];for(n in s=[],o)o.hasOwnProperty(n)&&s.push(n);return t?e.map(s,e.proxy((function(e){return this.get_node(e)}),this)):s},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,i,a=this.get_checked(!0),r=[];for(n=0,i=a.length;n<i;n++)a[n].children.length||r.push(a[n].id);return t?e.map(r,e.proxy((function(e){return this.get_node(e)}),this)):r},this.load_node=function(t,n){var a,r,s;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(s=this.get_node(t))&&s.state.loaded)for(a=0,r=s.children_d.length;a<r;a++)this._model.data[s.children_d[a]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,s.children_d[a]));return i.load_node.apply(this,arguments)},this.get_state=function(){var e=i.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var a=i.set_state.apply(this,arguments);if(a&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var r=this;e.each(t.checkbox,(function(e,t){r.check_node(t)}))}return delete t.checkbox,this.set_state(t,n),!1}return a},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),i.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){if(this.settings.conditionalselect.call(this,this.get_node(e),n))return t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.create_node(i,{},"last",(function(e){try{n.edit(e)}catch(t){setTimeout((function(){n.edit(e)}),0)}}))}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.edit(i)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.delete_node(n.get_selected()):n.delete_node(i)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.cut(n.get_top_selected()):n.cut(i)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.copy(n.get_top_selected()):n.copy(i)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.paste(i)}}}}}}},e.jstree.plugins.contextmenu=function(n,i){this.bind=function(){i.bind.call(this);var t,n,a=0,r=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy((function(){this.get_container_ul().addClass("jstree-contextmenu")}),this)).on("contextmenu.jstree",".jstree-anchor",e.proxy((function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),a=e.ctrlKey?+new Date:0,(t||r)&&(a=+new Date+1e4),r&&clearTimeout(r),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))}),this)).on("click.jstree",".jstree-anchor",e.proxy((function(t){this._data.contextmenu.visible&&(!a||+new Date-a>250)&&e.vakata.context.hide(),a=0}),this)).on("touchstart.jstree",".jstree-anchor",(function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(t=i.originalEvent.changedTouches[0].clientX,n=i.originalEvent.changedTouches[0].clientY,r=setTimeout((function(){e(i.currentTarget).trigger("contextmenu",!0)}),750))})).on("touchmove.vakata.jstree",(function(i){r&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(Math.abs(t-i.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-i.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(r),e.vakata.context.hide())})).on("touchend.vakata.jstree",(function(e){r&&clearTimeout(r)})),e(l).on("context_hide.vakata.jstree",e.proxy((function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")}),this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),i.teardown.call(this)},this.show_contextmenu=function(n,i,a,r){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var s=this.settings.contextmenu,o=this.get_node(n,!0).children(".jstree-anchor"),l=!1,c=!1;(s.show_at_node||i===t||a===t)&&(l=o.offset(),i=l.left,a=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,r),c=s.items,e.isFunction(c)&&(c=c.call(this,n,e.proxy((function(e){this._show_contextmenu(n,i,a,e)}),this))),e.isPlainObject(c)&&this._show_contextmenu(n,i,a,c)},this._show_contextmenu=function(t,n,i,a){var r=this.get_node(t,!0).children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy((function(t,n){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(i),r.addClass("jstree-context")}),this)),this._data.contextmenu.visible=!0,e.vakata.context.show(r,{x:n,y:i},a),this.trigger("show_contextmenu",{node:t,x:n,y:i})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,i){if(!t)return!1;i||(n.html="",n.items=[]);var a,r="",s=!1;return i&&(r+="<ul>"),e.each(t,(function(t,i){if(!i)return!0;n.items.push(i),!s&&i.separator_before&&(r+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),s=!1,r+="<li class='"+(i._class||"")+(!0===i._disabled||e.isFunction(i._disabled)&&i._disabled({item:i,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",r+="<a href='#' rel='"+(n.items.length-1)+"' "+(i.title?"title='"+i.title+"'":"")+">",e.vakata.context.settings.icons&&(r+="<i ",i.icon&&(-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?r+=" style='background:url(\""+i.icon+"\") center center no-repeat' ":r+=" class='"+i.icon+"' "),r+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),r+=(e.isFunction(i.label)?i.label({item:t,reference:n.reference,element:n.element}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&(a=e.vakata.context._parse(i.submenu,!0))&&(r+=a),r+="</li>",i.separator_after&&(r+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",s=!0)})),r=r.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(r+="</ul>"),i||(n.html=r,e.vakata.context._trigger("parse")),r.length>10&&r},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var i=n.children("ul"),a=n.offset().left,r=a+n.outerWidth(),s=n.offset().top,o=i.width(),l=i.height(),c=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?n[r-(o+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[r+o>c&&a>c-r?"addClass":"removeClass"]("vakata-context-right"),s+l+10>d&&i.css("bottom","-1px"),n.hasClass("vakata-context-right")?a<o&&i.css("margin-right",a-o):c-r<o&&i.css("margin-left",c-r-o),i.show()}},show:function(i,a,r){var s,o,c,d,h,u,f,p;switch(n.element&&n.element.length&&n.element.width(""),!0){case!a&&!i:return!1;case!!a&&!!i:n.reference=i,n.position_x=a.x,n.position_y=a.y;break;case!a&&!!i:n.reference=i,s=i.offset(),n.position_x=s.left+i.outerHeight(),n.position_y=s.top;break;case!!a&&!i:n.position_x=a.x,n.position_y=a.y}i&&!r&&e(i).data("vakata_contextmenu")&&(r=e(i).data("vakata_contextmenu")),e.vakata.context._parse(r)&&n.element.html(n.html),n.items.length&&(n.element.appendTo(l.body),o=n.element,c=n.position_x,d=n.position_y,h=o.width(),u=o.height(),f=e(window).width()+e(window).scrollLeft(),p=e(window).height()+e(window).scrollTop(),t&&(c-=o.outerWidth()-e(i).outerWidth())<e(window).scrollLeft()+20&&(c=e(window).scrollLeft()+20),c+h+20>f&&(c=f-(h+20)),d+u+20>p&&(d=p-(u+20)),n.element.css({left:c,top:d}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e((function(){t="rtl"===e(l.body).css("direction");var i=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",(function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(i&&clearTimeout(i),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))})).on("mouseleave","li",(function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")})).on("mouseleave",(function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(i=setTimeout((function(){e.vakata.context.hide()}),e.vakata.context.settings.hide_onmouseleave))})).on("click","a",(function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()})).on("keydown","a",(function(t){var i=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}})).on("keydown",(function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()})),e(l).on("mousedown.vakata.jstree",(function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()})).on("context_show.vakata.jstree",(function(e,i){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()}))}))}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy((function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),i=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,a=i>1?i+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(a=e.vakata.html.escape(a)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,i>1?this.get_top_selected(!0):[n],t))){if(c={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:i>1?this.get_top_selected():[n.id]},d=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,c,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+a+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:d,data:c})}}),this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",(function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:c}),!1})).on("drop.jstree",e.proxy((function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:c}),!1}),this))},this.redraw_node=function(e,t,i,a){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var r,s,o=null;for(r=0,s=e.childNodes.length;r<s;r++)if(e.childNodes[r]&&e.childNodes[r].className&&-1!==e.childNodes[r].className.indexOf("jstree-anchor")){o=e.childNodes[r];break}o&&o.setAttribute("draggable",!0)}return e}},e((function(){var n=!1,i=!1,a=!1,r=!1,s=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dragover.vakata.jstree",(function(t){d&&e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:c})})).on("drop.vakata.jstree",(function(t){d&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:c}),d=null,c=null)})).on("dnd_start.vakata.jstree",(function(e,t){n=!1,a=!1,t&&t.data&&t.data.jstree&&s.appendTo(l.body)})).on("dnd_move.vakata.jstree",(function(o,l){var c=l.event.target!==a.target;if(r&&(l.event&&"dragover"===l.event.type&&!c||clearTimeout(r)),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){a=l.event;var d,h,u,f,p,g,_,m,v,y,b,k,w,j,x,C,D=e.jstree.reference(l.event.target),O=!1,N=!1,A=!1;if(D&&D._data&&D._data.dnd)if(s.attr("class","jstree-"+D.get_theme()+(D.settings.core.themes.responsive?" jstree-dnd-responsive":"")),x=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+D.get_theme()+" jstree-"+D.get_theme()+"-"+D.get_theme_variant()+" "+(D.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[x?"show":"hide"](),l.event.target!==D.element[0]&&l.event.target!==D.get_container_ul()[0]||0!==D.get_container_ul().children().length){if((O=D.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&O.length&&O.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(N=O.offset(),A=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-N.top,u=O.outerHeight(),g=A<u/3?["b","i","a"]:A>u-u/3?["a","i","b"]:A>u/2?["i","a","b"]:["i","b","a"],e.each(g,(function(t,a){switch(a){case"b":d=N.left-6,h=N.top,f=D.get_parent(O),p=O.parent().index();break;case"i":w=D.settings.dnd.inside_pos,j=D.get_node(O.parent()),d=N.left-2,h=N.top+u/2+1,f=j.id,p="first"===w?0:"last"===w?j.children.length:Math.min(w,j.children.length);break;case"a":d=N.left-6,h=N.top+u,f=D.get_parent(O),p=O.parent().index()+1}for(_=!0,m=0,v=l.data.nodes.length;m<v;m++)if(y=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===y&&"a"===a&&l.data.origin&&l.data.origin===D&&f===D.get_parent(l.data.nodes[m])&&(k=D.get_node(f),b>e.inArray(l.data.nodes[m],k.children)&&(b-=1)),!(_=_&&(D&&D.settings&&D.settings.dnd&&!1===D.settings.dnd.check_while_dragging||D.check(y,l.data.origin&&l.data.origin!==D?l.data.origin.get_node(l.data.nodes[m]):l.data.nodes[m],f,b,{dnd:!0,ref:D.get_node(O.parent()),pos:a,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==D,is_foreign:!l.data.origin})))){D&&D.last_error&&(i=D.last_error());break}var o,A;if("i"===a&&O.parent().is(".jstree-closed")&&D.settings.dnd.open_timeout&&(l.event&&"dragover"===l.event.type&&!c||(r&&clearTimeout(r),r=setTimeout((o=D,A=O,function(){o.open_node(A)}),D.settings.dnd.open_timeout))),_)return(C=D.get_node(f,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),C.addClass("jstree-dnd-parent")),n={ins:D,par:f,pos:"i"!==a||"last"!==w||0!==p||D.is_loaded(j)?p:"last"},s.css({left:d+"px",top:h+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"),i={},g=!0,!1})),!0===g))return}else{for(_=!0,m=0,v=l.data.nodes.length;m<v&&(_=_&&D.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==D?l.data.origin.get_node(l.data.nodes[m]):l.data.nodes[m],e.jstree.root,"last",{dnd:!0,ref:D.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==D,is_foreign:!l.data.origin}));m++);if(_)return n={ins:D,par:e.jstree.root,pos:"last"},s.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,s.hide()}})).on("dnd_scroll.vakata.jstree",(function(e,t){t&&t.data&&t.data.jstree&&(s.hide(),n=!1,a=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))})).on("dnd_stop.vakata.jstree",(function(t,o){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),r&&clearTimeout(r),o&&o.data&&o.data.jstree){s.hide().detach();var l,c,d=[];if(n){for(l=0,c=o.data.nodes.length;l<c;l++)d[l]=o.data.origin?o.data.origin.get_node(o.data.nodes[l]):o.data.nodes[l];n.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](d,n.par,n.pos,!1,!1,!1,o.data.origin)}else(l=e(o.event.target).closest(".jstree")).length&&i&&i.error&&"check"===i.error&&(l=l.jstree(!0))&&l.settings.core.error.call(this,i);a=!1,n=!1}})).on("keyup.jstree keydown.jstree",(function(t,o){(o=e.vakata.dnd._get())&&o.data&&o.data.jstree&&("keyup"===t.type&&27===t.which?(r&&clearTimeout(r),n=!1,i=!1,a=!1,r=!1,s.hide().detach(),e.vakata.dnd._clean()):(o.helper.find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),a&&(a.metaKey=t.metaKey,a.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",a))))}))})),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,i,a){a===t&&(a=e.vakata.dnd._get()),a.event=i,e(l).triggerHandler("dnd_"+n+".vakata",a)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var i=n.scroll_e.scrollTop(),a=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(i+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(a+n.scroll_l*e.vakata.dnd.settings.scroll_speed),i===n.scroll_e.scrollTop()&&a===n.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,i,a){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=i,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==a&&(n.helper=e("<div id='vakata-dnd'></div>").html(a).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo(l.body),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var i=!1,a=!1,r=!1,s=!1,o=!1,c=!1,d=!1,h=!1,u=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter((function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)})).each((function(){var i=e(this),a=i.offset();if(this.scrollHeight>this.offsetHeight&&(a.top+i.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-a.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(a.left+i.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-a.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l)return n.scroll_e=e(this),!1})),n.scroll_e||(i=e(l),a=e(window),r=i.height(),s=a.height(),o=i.width(),c=a.width(),d=i.scrollTop(),h=i.scrollLeft(),r>s&&t.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),r>s&&s-(t.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),o>c&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),o>c&&c-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=i)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),r&&u+25>r&&(u=r-50),o&&f+n.helper_w>o&&(f=o-(n.helper_w+2)),n.helper.css({left:f+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var i=setTimeout((function(){e(t.target).click()}),100);e(t.target).one("click",(function(){i&&clearTimeout(i)}))}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,i,a,r){var s,o,l,c=this.settings.massload,d=(JSON.stringify(t),[]),h=this._model.data;if(!a){for(s=0,o=t.length;s<o;s++)h[t[s]]&&(h[t[s]].state.loaded||h[t[s]].state.failed)&&!r||(d.push(t[s]),(l=this.get_node(t[s],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},d.length){if(e.isFunction(c))return c.call(this,d,e.proxy((function(e){var s,o;if(e)for(s in e)e.hasOwnProperty(s)&&(this._data.massload[s]=e[s]);for(s=0,o=t.length;s<o;s++)(l=this.get_node(t[s],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,a,r)}),this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,d)),e.isFunction(c.data)&&(c.data=c.data.call(this,d)),e.ajax(c).done(e.proxy((function(e,s,o){var c,d;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,d=t.length;c<d;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,a,r)}),this)).fail(e.proxy((function(e){n._load_nodes.call(this,t,i,a,r)}),this))}}return n._load_nodes.call(this,t,i,a,r)},this._load_node=function(t,i){var a,r=this._data.massload[t.id],s=null;return r?(s=this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter((function(){return 3!==this.nodeType})):r,(function(e){i.call(this,e)})),(a=this.get_node(t.id,!0))&&a.length&&a.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],s):n._load_node.call(this,t,i)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,i){this.bind=function(){i.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy((function(t,n){if(this._data.search.som&&n.res.length){var i,a,r,s,o=this._model.data,l=[];for(i=0,a=n.res.length;i<a;i++)if(o[n.res[i]]&&!o[n.res[i]].state.hidden&&(l.push(n.res[i]),l=l.concat(o[n.res[i]].parents),this._data.search.smc))for(r=0,s=o[n.res[i]].children_d.length;r<s;r++)o[o[n.res[i]].children_d[r]]&&!o[o[n.res[i]].children_d[r]].state.hidden&&l.push(o[n.res[i]].children_d[r]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}}),this)).on("clear_search.jstree",e.proxy((function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}),this))},this.search=function(n,i,a,r,s,o){if(!1===n||""===e.trim(n.toString()))return this.clear_search();r=(r=this.get_node(r))&&r.id?r.id:null,n=n.toString();var l,c,d=this.settings.search,h=!!d.ajax&&d.ajax,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!s&&this.clear_search(),a===t&&(a=d.show_only_matches),o===t&&(o=d.show_only_matches_children),!i&&!1!==h)return e.isFunction(h)?h.call(this,n,e.proxy((function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],(function(){this.search(n,!0,a,r,s,o)}))}),this),r):((h=e.extend({},h)).data||(h.data={}),h.data.str=n,r&&(h.data.inside=r),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy((function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)}),this)).done(e.proxy((function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],(function(){this.search(n,!0,a,r,s,o)}))}),this)),this._data.search.lastRequest);if(s||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=a,this._data.search.smc=o),f=new e.vakata.search(n,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(u[r||e.jstree.root].children_d,(function(e,t){var i=u[t];i.text&&!i.state.hidden&&(!d.search_leaves_only||i.state.loaded&&0===i.children.length)&&(d.search_callback&&d.search_callback.call(this,n,i)||!d.search_callback&&f.search(i.text).isMatch)&&(p.push(t),g=g.concat(i.parents))})),p.length){for(l=0,c=(g=e.vakata.array_unique(g)).length;l<c;l++)g[l]!==e.jstree.root&&u[g[l]]&&!0===this.open_node(g[l],null,0)&&this._data.search.opn.push(g[l]);s?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:a})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,a,r){if((t=i.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var s,o,l=null;for(s=0,o=t.childNodes.length;s<o;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){l=t.childNodes[s];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,i){i=i||{},!1!==(i=e.extend({},e.vakata.search.defaults,i)).fuzzy&&(i.fuzzy=!0),t=i.caseSensitive?t:t.toLowerCase();var a,r,s,o,l=i.location,c=i.distance,d=i.threshold,h=t.length;return h>32&&(i.fuzzy=!1),i.fuzzy&&(a=1<<h-1,r=function(){var e={},n=0;for(n=0;n<h;n++)e[t.charAt(n)]=0;for(n=0;n<h;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),s=function(e,t){var n=e/h,i=Math.abs(l-t);return c?n+i/c:i?1:n}),o=function(e){if(e=i.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var n,o,c,u,f,p,g,_,m,v=e.length,y=d,b=e.indexOf(t,l),k=h+v,w=1,j=[];for(-1!==b&&(y=Math.min(s(0,b),y),-1!==(b=e.lastIndexOf(t,l+h))&&(y=Math.min(s(0,b),y))),b=-1,n=0;n<h;n++){for(c=0,u=k;c<u;)s(n,l+u)<=y?c=u:k=u,u=Math.floor((k-c)/2+c);for(k=u,p=Math.max(1,l-u+1),g=Math.min(l+u,v)+h,(_=new Array(g+2))[g+1]=(1<<n)-1,o=g;o>=p;o--)if(m=r[e.charAt(o-1)],_[o]=0===n?(_[o+1]<<1|1)&m:(_[o+1]<<1|1)&m|(f[o+1]|f[o])<<1|1|f[o+1],_[o]&a&&(w=s(n,o-1))<=y){if(y=w,b=o-1,j.push(b),!(b>l))break;p=Math.max(1,2*l-b)}if(s(n+1,l)>y)break;f=_}return{isMatch:b>=0,score:w}},!0===n?{search:o}:o(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy((function(e,t){this.sort(t.parent,!0)}),this)).on("rename_node.jstree create_node.jstree",e.proxy((function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)}),this)).on("move_node.jstree copy_node.jstree",e.proxy((function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)}),this))},this.sort=function(t,n){var i,a;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(i=0,a=t.children_d.length;i<a;i++)this.sort(t.children_d[i],!1)}};var u=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy((function(){this.element.on(this.settings.state.events,e.proxy((function(){u&&clearTimeout(u),u=setTimeout(e.proxy((function(){this.save_state()}),this),100)}),this)),this.trigger("state_ready")}),this);this.element.on("ready.jstree",e.proxy((function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()}),this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",(function(n,i){i.instance.trigger("restore_state",{state:e.extend(!0,{},t)})})),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,i){this.init=function(n,a){var r,s;if(a&&a.types&&a.types.default)for(r in a.types)if("default"!==r&&r!==e.jstree.root&&a.types.hasOwnProperty(r))for(s in a.types.default)a.types.default.hasOwnProperty(s)&&a.types[r][s]===t&&(a.types[r][s]=a.types.default[s]);i.init.call(this,n,a),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){i.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy((function(n,i){var a,r,s,o=this._model.data,l=i.nodes,c=this.settings.types,d="default";for(a=0,r=l.length;a<r;a++){if(d="default",o[l[a]].original&&o[l[a]].original.type&&c[o[l[a]].original.type]&&(d=o[l[a]].original.type),o[l[a]].data&&o[l[a]].data.jstree&&o[l[a]].data.jstree.type&&c[o[l[a]].data.jstree.type]&&(d=o[l[a]].data.jstree.type),o[l[a]].type=d,!0===o[l[a]].icon&&c[d].icon!==t&&(o[l[a]].icon=c[d].icon),c[d].li_attr!==t&&"object"==typeof c[d].li_attr)for(s in c[d].li_attr)if(c[d].li_attr.hasOwnProperty(s)){if("id"===s)continue;o[l[a]].li_attr[s]===t?o[l[a]].li_attr[s]=c[d].li_attr[s]:"class"===s&&(o[l[a]].li_attr.class=c[d].li_attr.class+" "+o[l[a]].li_attr.class)}if(c[d].a_attr!==t&&"object"==typeof c[d].a_attr)for(s in c[d].a_attr)if(c[d].a_attr.hasOwnProperty(s)){if("id"===s)continue;o[l[a]].a_attr[s]===t?o[l[a]].a_attr[s]=c[d].a_attr[s]:"href"===s&&"#"===o[l[a]].a_attr[s]?o[l[a]].a_attr.href=c[d].a_attr.href:"class"===s&&(o[l[a]].a_attr.class=c[d].a_attr.class+" "+o[l[a]].a_attr.class)}}o[e.jstree.root].type=e.jstree.root}),this)),i.bind.call(this)},this.get_json=function(t,n,a){var r,s,o=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=i.get_json.call(this,t,l,a);if(!1===c)return!1;if(e.isArray(c))for(r=0,s=c.length;r<s;r++)c[r].type=c[r].id&&o[c[r].id]&&o[c[r].id].type?o[c[r].id].type:"default",n&&n.no_id&&(delete c[r].id,c[r].li_attr&&c[r].li_attr.id&&delete c[r].li_attr.id,c[r].a_attr&&c[r].a_attr.id&&delete c[r].a_attr.id);else c.type=c.id&&o[c.id]&&o[c.id].type?o[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,i=t.length;n<i;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,a,r,s,o){if(!1===i.check.call(this,n,a,r,s,o))return!1;a=a&&a.id?a:this.get_node(a),r=r&&r.id?r:this.get_node(r);var l,c,d,h,u=a&&a.id?o&&o.origin?o.origin:e.jstree.reference(a.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(a.id,r.children)){if((l=this.get_rules(r)).max_children!==t&&-1!==l.max_children&&l.max_children===r.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!a||!a.id)&&a.id,par:!(!r||!r.id)&&r.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(a.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!a||!a.id)&&a.id,par:!(!r||!r.id)&&r.id})},!1;if(u&&a.children_d&&a.parents){for(c=0,d=0,h=a.children_d.length;d<h;d++)c=Math.max(c,u[a.children_d[d]].parents.length);c=c-a.parents.length+1}(c<=0||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!a||!a.id)&&a.id,par:!(!r||!r.id)&&r.id})},!1;r=this.get_node(r.parent),l=this.get_rules(r),c++}while(r)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,i){var a,r,s,o,l,c,d,h,u=this._model.data;if(e.isArray(n)){for(r=0,s=(n=n.slice()).length;r<s;r++)this.set_type(n[r],i);return!0}if(a=this.settings.types,n=this.get_node(n),!a[i]||!n)return!1;if((d=this.get_node(n,!0))&&d.length&&(h=d.children(".jstree-anchor")),o=n.type,l=this.get_icon(n),n.type=i,(!0===l||!a[o]||a[o].icon!==t&&l===a[o].icon)&&this.set_icon(n,a[i].icon===t||a[i].icon),a[o]&&a[o].li_attr!==t&&"object"==typeof a[o].li_attr)for(c in a[o].li_attr)if(a[o].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[n.id].li_attr.class=(u[n.id].li_attr.class||"").replace(a[o].li_attr[c],""),d&&d.removeClass(a[o].li_attr[c])):u[n.id].li_attr[c]===a[o].li_attr[c]&&(u[n.id].li_attr[c]=null,d&&d.removeAttr(c))}if(a[o]&&a[o].a_attr!==t&&"object"==typeof a[o].a_attr)for(c in a[o].a_attr)if(a[o].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[n.id].a_attr.class=(u[n.id].a_attr.class||"").replace(a[o].a_attr[c],""),h&&h.removeClass(a[o].a_attr[c])):u[n.id].a_attr[c]===a[o].a_attr[c]&&("href"===c?(u[n.id].a_attr[c]="#",h&&h.attr("href","#")):(delete u[n.id].a_attr[c],h&&h.removeAttr(c)))}if(a[i].li_attr!==t&&"object"==typeof a[i].li_attr)for(c in a[i].li_attr)if(a[i].li_attr.hasOwnProperty(c)){if("id"===c)continue;u[n.id].li_attr[c]===t?(u[n.id].li_attr[c]=a[i].li_attr[c],d&&("class"===c?d.addClass(a[i].li_attr[c]):d.attr(c,a[i].li_attr[c]))):"class"===c&&(u[n.id].li_attr.class=a[i].li_attr[c]+" "+u[n.id].li_attr.class,d&&d.addClass(a[i].li_attr[c]))}if(a[i].a_attr!==t&&"object"==typeof a[i].a_attr)for(c in a[i].a_attr)if(a[i].a_attr.hasOwnProperty(c)){if("id"===c)continue;u[n.id].a_attr[c]===t?(u[n.id].a_attr[c]=a[i].a_attr[c],h&&("class"===c?h.addClass(a[i].a_attr[c]):h.attr(c,a[i].a_attr[c]))):"href"===c&&"#"===u[n.id].a_attr[c]?(u[n.id].a_attr.href=a[i].a_attr.href,h&&h.attr("href",a[i].a_attr.href)):"class"===c&&(u[n.id].a_attr.class=a[i].a_attr.class+" "+u[n.id].a_attr.class,h&&h.addClass(a[i].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,i){this.check=function(t,n,a,r,s){if(!1===i.check.call(this,t,n,a,r,s))return!1;if(n=n&&n.id?n:this.get_node(n),!(a=a&&a.id?a:this.get_node(a))||!a.children)return!0;var o,l,c,d="rename_node"===t?r:n.text,h=[],u=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(o=0,l=a.children.length;o<l;o++)c=p[a.children[o]].text,u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(c);switch(u||(d=d.toLowerCase()),f&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return c=n.text||"",u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(o=-1===e.inArray(d,h)||n.text&&c===d)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})}),o;case"create_node":return(o=-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})}),o;case"copy_node":return(o=-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})}),o;case"move_node":return(o=n.parent===a.id&&(!s||!s.is_multi)||-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})}),o}return!0},this.create_node=function(n,a,r,s,o){if(!a||a.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return i.create_node.call(this,n,a,r,s,o);if(!(r=r===t?"last":r).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return i.create_node.call(this,n,a,r,s,o);a||(a={});var l,c,d,h,u,f,p=this._model.data,g=this.settings.unique.case_sensitive,_=this.settings.unique.trim_whitespace,m=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),d=[],h=0,u=n.children.length;h<u;h++)f=p[n.children[h]].text,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),d.push(f);for(h=1,f=c,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(f,d);)f=c=m.call(this,l,++h).toString(),g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));a.text=c}return i.create_node.call(this,n,a,r,s,o)}};var f=l.createElement("DIV");if(f.setAttribute("unselectable","on"),f.setAttribute("role","presentation"),f.className="jstree-wholerow",f.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy((function(){this.hide_dots()}),this)).on("init.jstree loading.jstree ready.jstree",e.proxy((function(){this.get_container_ul().addClass("jstree-wholerow-ul")}),this)).on("deselect_all.jstree",e.proxy((function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}),this)).on("changed.jstree",e.proxy((function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,i,a=!1;for(n=0,i=t.selected.length;n<i;n++)(a=this.get_node(t.selected[n],!0))&&a.length&&a.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}),this)).on("open_node.jstree",e.proxy((function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}),this)).on("hover_node.jstree dehover_node.jstree",e.proxy((function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}),this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy((function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}}),this)).on("click.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()})).on("dblclick.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()})).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy((function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}),this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy((function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1}),this)).on("mouseleave.jstree",".jstree-node",e.proxy((function(e){this.dehover_node(e.currentTarget)}),this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,i,a,r){if(t=n.redraw_node.apply(this,arguments)){var s=f.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(s.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(s.className+=" jstree-wholerow-hovered"),t.insertBefore(s,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var p=Object.create(HTMLElement.prototype);p.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{window.customElements.define("vakata-jstree",(function(){}),{prototype:p})}catch(e){}}})?i.apply(t,a):i)||(e.exports=r)}()},YBdB:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,a,r,s,o,l=1,c={},d=!1,h=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){r.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(a=h.documentElement,i=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),i=function(t){e.postMessage(s+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return c[l]=a,i(l),l++},u.clearImmediate=f}function f(e){delete c[e]}function p(e){if(d)setTimeout(p,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{f(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},eHjp:function(e,t,n){var i,a;i=[n("wd/R"),n("EVdn")],void 0===(a=function(e,t){return t.fn||(t.fn={}),"function"!=typeof e&&e.default&&(e=e.default),function(e,t){var n=function(n,i,a){if(this.parentEl="body",this.element=t(n),this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=e().subtract(100,"year").format("YYYY"),this.maxYear=e().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:e.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=t.extend(this.element.data(),i)).template||i.template instanceof t||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=i.parentEl&&t(i.parentEl).length?t(i.parentEl):t(this.parentEl),this.container=t(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(u=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var r=u.value;this.locale.customRangeLabel=r}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=e(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=e(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=e(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=e(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=e(i.startDate)),"object"==typeof i.endDate&&(this.endDate=e(i.endDate)),"object"==typeof i.minDate&&(this.minDate=e(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=e(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var o,l,c;if(void 0===i.startDate&&void 0===i.endDate&&t(this.element).is(":text")){var d=t(this.element).val(),h=d.split(this.locale.separator);o=l=null,2==h.length?(o=e(h[0],this.locale.format),l=e(h[1],this.locale.format)):this.singleDatePicker&&""!==d&&(o=e(d,this.locale.format),l=e(d,this.locale.format)),null!==o&&null!==l&&(this.setStartDate(o),this.setEndDate(l))}if("object"==typeof i.ranges){for(c in i.ranges){o="string"==typeof i.ranges[c][0]?e(i.ranges[c][0],this.locale.format):e(i.ranges[c][0]),l="string"==typeof i.ranges[c][1]?e(i.ranges[c][1],this.locale.format):e(i.ranges[c][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var u,f=this.maxDate;if(this.maxSpan&&f&&o.clone().add(this.maxSpan).isAfter(f)&&(f=o.clone().add(this.maxSpan)),f&&l.isAfter(f)&&(l=f.clone()),!(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||f&&o.isAfter(f,this.timepicker?"minute":"day")))(u=document.createElement("textarea")).innerHTML=c,r=u.value,this.ranges[r]=[o,l]}var p="<ul>";for(c in this.ranges)p+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof a&&(this.callback=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this))),this.updateElement()};return n.prototype={constructor:n,setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.locale.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.locale.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var e,t,n,i;this.timePicker&&(this.endDate?(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0))):(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0))),this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n));this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i,a=(i="left"==n?this.leftCalendar:this.rightCalendar).month.month(),r=i.month.year(),s=i.month.hour(),o=i.month.minute(),l=i.month.second(),c=e([r,a]).daysInMonth(),d=e([r,a,1]),h=e([r,a,c]),u=e(d).subtract(1,"month").month(),f=e(d).subtract(1,"month").year(),p=e([f,u]).daysInMonth(),g=d.day();(i=[]).firstDay=d,i.lastDay=h;for(var _=0;_<6;_++)i[_]=[];var m=p-g+this.locale.firstDay+1;m>p&&(m-=7),g==this.locale.firstDay&&(m=p-6);for(var v=e([f,u,m,12,o,l]),y=(_=0,0),b=0;_<42;_++,y++,v=e(v).add(24,"hour"))_>0&&y%7==0&&(y=0,b++),i[b][y]=v.clone().hour(s).minute(o).second(l),v.hour(12),this.minDate&&i[b][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[b][y].isBefore(this.minDate)&&"left"==n&&(i[b][y]=this.minDate.clone()),this.maxDate&&i[b][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[b][y].isAfter(this.maxDate)&&"right"==n&&(i[b][y]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var k="left"==n?this.minDate:this.startDate,w=this.maxDate,j=("left"==n?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');j+="<thead>",j+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(j+="<th></th>"),k&&!k.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?j+="<th></th>":j+='<th class="prev available"><span></span></th>';var x=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var C=i[1][1].month(),D=i[1][1].year(),O=w&&w.year()||this.maxYear,N=k&&k.year()||this.minYear,A=D==N,E=D==O,T='<select class="monthselect">',S=0;S<12;S++)(!A||k&&S>=k.month())&&(!E||w&&S<=w.month())?T+="<option value='"+S+"'"+(S===C?" selected='selected'":"")+">"+this.locale.monthNames[S]+"</option>":T+="<option value='"+S+"'"+(S===C?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[S]+"</option>";T+="</select>";for(var P='<select class="yearselect">',M=N;M<=O;M++)P+='<option value="'+M+'"'+(M===D?' selected="selected"':"")+">"+M+"</option>";x=T+(P+="</select>")}if(j+='<th colspan="5" class="month">'+x+"</th>",w&&!w.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?j+="<th></th>":j+='<th class="next available"><span></span></th>',j+="</tr>",j+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(j+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,(function(e,t){j+="<th>"+t+"</th>"})),j+="</tr>",j+="</thead>",j+="<tbody>",null==this.endDate&&this.maxSpan){var L=this.startDate.clone().add(this.maxSpan).endOf("day");w&&!L.isBefore(w)||(w=L)}for(b=0;b<6;b++){for(j+="<tr>",this.showWeekNumbers?j+='<td class="week">'+i[b][0].week()+"</td>":this.showISOWeekNumbers&&(j+='<td class="week">'+i[b][0].isoWeek()+"</td>"),y=0;y<7;y++){var Y=[];i[b][y].isSame(new Date,"day")&&Y.push("today"),i[b][y].isoWeekday()>5&&Y.push("weekend"),i[b][y].month()!=i[1][1].month()&&Y.push("off","ends"),this.minDate&&i[b][y].isBefore(this.minDate,"day")&&Y.push("off","disabled"),w&&i[b][y].isAfter(w,"day")&&Y.push("off","disabled"),this.isInvalidDate(i[b][y])&&Y.push("off","disabled"),i[b][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&Y.push("active","start-date"),null!=this.endDate&&i[b][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&Y.push("active","end-date"),null!=this.endDate&&i[b][y]>this.startDate&&i[b][y]<this.endDate&&Y.push("in-range");var I=this.isCustomDate(i[b][y]);!1!==I&&("string"==typeof I?Y.push(I):Array.prototype.push.apply(Y,I));var $="",B=!1;for(_=0;_<Y.length;_++)$+=Y[_]+" ","disabled"==Y[_]&&(B=!0);B||($+="available"),j+='<td class="'+$.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+y+'">'+i[b][y].date()+"</td>"}j+="</tr>"}j+="</tbody>",j+="</table>",this.container.find(".drp-calendar."+n+" .calendar-table").html(j)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,n,i,a=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(a=this.startDate.clone().add(this.maxSpan)),"left"==e)n=this.startDate.clone(),i=this.minDate;else if("right"==e){n=this.endDate.clone(),i=this.startDate;var r=this.container.find(".drp-calendar.right .calendar-time");if(""!=r.html()&&(n.hour(isNaN(n.hour())?r.find(".hourselect option:selected").val():n.hour()),n.minute(isNaN(n.minute())?r.find(".minuteselect option:selected").val():n.minute()),n.second(isNaN(n.second())?r.find(".secondselect option:selected").val():n.second()),!this.timePicker24Hour)){var s=r.find(".ampmselect option:selected").val();"PM"===s&&n.hour()<12&&n.hour(n.hour()+12),"AM"===s&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),a&&n.isAfter(a)&&(n=a.clone())}t='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=o;c<=l;c++){var d=c;this.timePicker24Hour||(d=n.hour()>=12?12==c?12:c+12:12==c?0:c);var h=n.clone().hour(d),u=!1;i&&h.minute(59).isBefore(i)&&(u=!0),a&&h.minute(0).isAfter(a)&&(u=!0),d!=n.hour()||u?t+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":t+='<option value="'+c+'" selected="selected">'+c+"</option>"}for(t+="</select> ",t+=': <select class="minuteselect">',c=0;c<60;c+=this.timePickerIncrement){var f=c<10?"0"+c:c;h=n.clone().minute(c),u=!1,i&&h.second(59).isBefore(i)&&(u=!0),a&&h.second(0).isAfter(a)&&(u=!0),n.minute()!=c||u?t+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":t+='<option value="'+c+'" selected="selected">'+f+"</option>"}if(t+="</select> ",this.timePickerSeconds){for(t+=': <select class="secondselect">',c=0;c<60;c++)f=c<10?"0"+c:c,h=n.clone().second(c),u=!1,i&&h.isBefore(i)&&(u=!0),a&&h.isAfter(a)&&(u=!0),n.second()!=c||u?t+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":t+='<option value="'+c+'" selected="selected">'+f+"</option>";t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var p="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),a&&n.clone().hour(0).minute(0).second(0).isAfter(a)&&(g=' disabled="disabled" class="disabled"'),n.hour()>=12?t+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":t+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",t+="</select>"}this.container.find(".drp-calendar."+e+" .calendar-time").html(t)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var e,n={top:0,left:0},i=t(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container.css({top:0,left:0,right:"auto"});var a=this.container.outerWidth();if(this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens){var r=i-this.element.offset().left-this.element.outerWidth();a+r>t(window).width()?this.container.css({top:e,right:"auto",left:9}):this.container.css({top:e,right:r,left:"auto"})}else if("center"==this.opens)(s=this.element.offset().left-n.left+this.element.outerWidth()/2-a/2)<0?this.container.css({top:e,right:"auto",left:9}):s+a>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:s,right:"auto"});else{var s;(s=this.element.offset().left-n.left)+a>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:s,right:"auto"})}},show:function(e){this.isShowing||(this._outsideClickProxy=t.proxy((function(e){this.outsideClick(e)}),this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy((function(e){this.move(e)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var n=t(e.target);"focusin"==e.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(e){var t=e.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){t(e.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),a=n.substr(3,1),r=t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][a]:this.rightCalendar.calendar[i][a],s=this.leftCalendar,o=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each((function(e,n){if(!t(n).hasClass("week")){var i=t(n).attr("data-title"),a=i.substr(1,1),c=i.substr(3,1),d=t(n).parents(".drp-calendar").hasClass("left")?s.calendar[a][c]:o.calendar[a][c];d.isAfter(l)&&d.isBefore(r)||d.isSame(r,"day")?t(n).addClass("in-range"):t(n).removeClass("in-range")}}))}},clickDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),a=n.substr(3,1),r=t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][a]:this.rightCalendar.calendar[i][a];if(this.endDate||r.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(c=this.container.find(".left .ampmselect").val())&&s<12&&(s+=12),"AM"===c&&12===s&&(s=0));var o=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(o)&&(o=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;r=r.clone().hour(s).minute(o).second(l)}this.endDate=null,this.setStartDate(r.clone())}else if(!this.endDate&&r.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{var c;if(this.timePicker)s=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(c=this.container.find(".right .ampmselect").val())&&s<12&&(s+=12),"AM"===c&&12===s&&(s=0)),o=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(o)&&(o=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,r=r.clone().hour(s).minute(o).second(l);this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var e=!0,t=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}t++}e&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var n=t(e.target).closest(".drp-calendar").hasClass("left"),i=n?"left":"right",a=this.container.find(".drp-calendar."+i),r=parseInt(a.find(".monthselect").val(),10),s=a.find(".yearselect").val();n||(s<this.startDate.year()||s==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),s=this.startDate.year()),this.minDate&&(s<this.minDate.year()||s==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),s=this.minDate.year()),this.maxDate&&(s>this.maxDate.year()||s==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),s=this.maxDate.year()),n?(this.leftCalendar.month.month(r).year(s),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(s),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var n=t(e.target).closest(".drp-calendar"),i=n.hasClass("left"),a=parseInt(n.find(".hourselect").val(),10),r=parseInt(n.find(".minuteselect").val(),10);isNaN(r)&&(r=parseInt(n.find(".minuteselect option:last").val(),10));var s=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=n.find(".ampmselect").val();"PM"===o&&a<12&&(a+=12),"AM"===o&&12===a&&(a=0)}if(i){var l=this.startDate.clone();l.hour(a),l.minute(r),l.second(s),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(a),c.minute(r),c.second(s),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),n=null,i=null;2===t.length&&(n=e(t[0],this.locale.format),i=e(t[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(i=n=e(this.element.val(),this.locale.format)),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var e=this.startDate.format(this.locale.format);this.singleDatePicker||(e+=this.locale.separator+this.endDate.format(this.locale.format)),e!==this.element.val()&&this.element.val(e).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(e,i){var a=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,e);return this.each((function(){var e=t(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new n(e,a,i))})),this},n}(e,t)}.apply(t,i))||(e.exports=a)},ipVs:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return r}));var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!1!==t&&this.initListeners()}var t,n,r;return t=e,(n=[{key:"initListeners",value:function(){this.initClickListener()}},{key:"initClickListener",value:function(e){var t=this;void 0===e&&(e=null),$("a[data-config], button[data-config]",e).on("click",(function(e){e.preventDefault(),e.stopImmediatePropagation(),t.element=$(e.currentTarget),t.config=t.element.data("config"),t.element.blur(),null===t.config&&(t.config={}),!0===t.config.confirm?t.confirm():t.launchAction()}))}},{key:"launchAction",value:function(){switch(this.config.actionType){case"link":this.gotoUrl();break;case"ajax":this.callUrl()}}},{key:"gotoUrl",value:function(){var e=this.config.target?this.config.target:"_self";window.open(this.element.attr("href"),e)}},{key:"callUrl",value:function(){var e=this.element.attr("href"),t="object"===i(this.config.ajax)?this.config.ajax:{},n="get";t.method&&(n=t.method);var a={};if(t.params&&(a=t.params),"post"===n){var r=$('meta[name="csrf-token"]').attr("content");a._token=r}var s=null;t.elementToUpdate&&(s=t.elementToUpdate),$.ajax({url:e,method:n,data:a}).then((function(e){s?$(s).html(e.content):!1===e.success?swal(uctrans.trans("uccello::default.dialog.error.title"),e.message,"error"):(swal(uctrans.trans("uccello::default.dialog.success.title"),e.message,"success"),!0===t.refresh&&document.location.reload())})).catch((function(e){swal(uctrans.trans("uccello::default.dialog.error.title"),e.message,"error")}))}},{key:"confirm",value:function(){var e,t,n,a,r,s=this;"object"===i(this.config.dialog)&&(e=this.config.dialog.title,t=this.config.dialog.text,n=this.config.dialog.confirmButtonText,a=this.config.dialog.confirmButtonColor,r=this.config.dialog.closeOnConfirm),e||(e=uctrans.trans("uccello::default.confirm.dialog.title")),n||(n=uctrans.trans("uccello::default.button.yes")),a||(a="#DD6B55"),r||(r=!0),"ajax"===this.config.actionType&&(this.config.ajax&&this.config.ajax.elementToUpdate||(r=!1)),swal({title:e,text:t,icon:"warning",buttons:{cancel:{text:uctrans.trans("uccello::default.button.no"),value:null,visible:!0},confirm:{text:n,value:!0,className:"red",closeModal:r}}}).then((function(e){!0===e&&s.launchAction()}))}}])&&a(t.prototype,n),r&&a(t,r),e}()},xrZG:function(e,t,n){var i,a,r;!function(s){"use strict";a=[n("EVdn"),n("X2Mc")],void 0===(r="function"==typeof(i=function(e,t,n){if(e.jstree.plugins.sort)return;e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy((function(e,t){this.sort(t.parent,!0)}),this)).on("rename_node.jstree create_node.jstree",e.proxy((function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)}),this)).on("move_node.jstree copy_node.jstree",e.proxy((function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)}),this))},this.sort=function(t,n){var i,a;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(i=0,a=t.children_d.length;i<a;i++)this.sort(t.children_d[i],!1)}}})?i.apply(t,a):i)||(e.exports=r)}()},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}},[[4,0,1]]]);